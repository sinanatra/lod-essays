var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,l,a;function u(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function c(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function h(t){return null==t?"":t}function f(t,e,n){return t.set(n),e}function p(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function _(){return x(" ")}function v(){return x("")}function k(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(){if(void 0===l){l=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){l=!0}}return l}class A{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=w(e.nodeName):this.e=y(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)d(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(g)}}function S(t){a=t}function E(){if(!a)throw new Error("Function called outside component initialization");return a}function N(t){E().$$.on_mount.push(t)}const M=[],T=[],R=[],I=[],q=Promise.resolve();let C=!1;function O(t){R.push(t)}const P=new Set;let L=0;function j(){if(0!==L)return;const t=a;do{try{for(;L<M.length;){const t=M[L];L++,S(t),D(t.$$)}}catch(t){throw M.length=0,L=0,t}for(S(null),M.length=0,L=0;T.length;)T.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];P.has(e)||(P.add(e),e())}R.length=0}while(M.length);for(;I.length;)I.pop()();C=!1,P.clear(),S(t)}function D(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const U=new Set;let B;function X(t,e){t&&t.i&&(U.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(U.has(t))return;U.add(t),B.c.push((()=>{U.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function Y(t){t&&t.c()}function V(t,n,o,s){const{fragment:l,after_update:a}=t.$$;l&&l.m(n,o),s||O((()=>{const n=t.$$.on_mount.map(e).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(O)}function H(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(M.push(t),C||(C=!0,q.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,i,o,s,l,u,c,h=[-1]){const f=a;S(e);const p=e.$$={fragment:null,ctx:[],props:u,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:i.target||f.$$.root};c&&c(p.root);let d=!1;if(p.ctx=o?o(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&l(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),d&&F(e,t)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(g)}else p.fragment&&p.fragment.c();i.intro&&X(e.$$.fragment),V(e,i.target,i.anchor,i.customElement),j()}S(f)}class W{$destroy(){H(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const G="https://uclab.fh-potsdam.de/refa/api",K=["test"],J=[];function tt(e,n=t){let r;const i=new Set;function s(t){if(o(e,t)&&(e=t,r)){const t=!J.length;for(const t of i)t[1](),J.push(t,e);if(t){for(let t=0;t<J.length;t+=2)J[t][0](J[t+1]);J.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(o,l=t){const a=[o,l];return i.add(a),1===i.size&&(r=n(s)||t),o(e),()=>{i.delete(a),0===i.size&&(r(),r=null)}}}}const et=tt(),nt=tt([]),rt=tt([]),it=tt([]),ot=tt([]);function st(t){let e=[];for(let n=0;n<t.items.length;n++){let r=lt(t.items[n].data,t.items[n].set||null);e=[...e,...r]}return{nodes:e.reduce(((t,e)=>(t.find((t=>t.id===e.source))||t.push({id:e.source,title:e.title}),t.find((t=>t.id===e.target))||t.push({id:e.target,title:e.title}),t)),[]),links:e}}function lt(t,e){let n=[],r=`${G}/resources/${t["o:id"]}`;e&&n.push({source:`${G}/resources/${e.id}`,target:r,title:t["o:title"]});let i=function(t){for(let e in t)if("@id"===e&&t[e].startsWith(G)&&(t["o:title"]||t.display_title)){let i=t[e].split("/"),o=i[i.length-1],s=`${G}/resources/${o}`,l=t["o:title"]||t.display_title;n.push({source:r,target:s,title:l,property:t.property_label})}else"object"==typeof t[e]&&i(t[e])};return i(t),n}let at;const ut=new Uint8Array(16);function ct(){if(!at&&(at="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!at))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return at(ut)}const ht=[];for(let t=0;t<256;++t)ht.push((t+256).toString(16).slice(1));var ft={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function pt(t,e,n){if(ft.randomUUID&&!e&&!t)return ft.randomUUID();const r=(t=t||{}).random||(t.rng||ct)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return(ht[t[e+0]]+ht[t[e+1]]+ht[t[e+2]]+ht[t[e+3]]+"-"+ht[t[e+4]]+ht[t[e+5]]+"-"+ht[t[e+6]]+ht[t[e+7]]+"-"+ht[t[e+8]]+ht[t[e+9]]+"-"+ht[t[e+10]]+ht[t[e+11]]+ht[t[e+12]]+ht[t[e+13]]+ht[t[e+14]]+ht[t[e+15]]).toLowerCase()}(r)}function dt(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let gt={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const mt=/[&<>"']/,yt=new RegExp(mt.source,"g"),wt=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,xt=new RegExp(wt.source,"g"),_t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vt=t=>_t[t];function kt(t,e){if(e){if(mt.test(t))return t.replace(yt,vt)}else if(wt.test(t))return t.replace(xt,vt);return t}const bt=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function $t(t){return t.replace(bt,((t,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const zt=/(^|[^\[])\^/g;function At(t,e){t="string"==typeof t?t:t.source,e=e||"";const n={replace:(e,r)=>(r=(r=r.source||r).replace(zt,"$1"),t=t.replace(e,r),n),getRegex:()=>new RegExp(t,e)};return n}const St=/[^\w:]/g,Et=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Nt(t,e,n){if(t){let t;try{t=decodeURIComponent($t(n)).replace(St,"").toLowerCase()}catch(t){return null}if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}e&&!Et.test(n)&&(n=function(t,e){Mt[" "+t]||(Tt.test(t)?Mt[" "+t]=t+"/":Mt[" "+t]=Pt(t,"/",!0));t=Mt[" "+t];const n=-1===t.indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(Rt,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(It,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n}const Mt={},Tt=/^[^:]+:\/*[^/]*$/,Rt=/^([^:]+:)[\s\S]*$/,It=/^([^:]+:\/*[^/]*)[\s\S]*$/;const qt={exec:function(){}};function Ct(t){let e,n,r=1;for(;r<arguments.length;r++)for(n in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Ot(t,e){const n=t.replace(/\|/g,((t,e,n)=>{let r=!1,i=e;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function Pt(t,e,n){const r=t.length;if(0===r)return"";let i=0;for(;i<r;){const o=t.charAt(r-i-1);if(o!==e||n){if(o===e||!n)break;i++}else i++}return t.slice(0,r-i)}function Lt(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function jt(t,e){if(e<1)return"";let n="";for(;e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t}function Dt(t,e,n,r){const i=e.href,o=e.title?kt(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const t={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,t}return{type:"image",raw:n,href:i,title:o,text:kt(s)}}class Ut{constructor(t){this.options=t||gt}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Pt(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],n=function(t,e){const n=t.match(/^(\s+)(?:```)/);if(null===n)return e;const r=n[1];return e.split("\n").map((t=>{const e=t.match(/^\s+/);if(null===e)return t;const[n]=e;return n.length>=r.length?t.slice(r.length):t})).join("\n")}(t,e[3]||"");return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(/#$/.test(t)){const e=Pt(t,"#");this.options.pedantic?t=e.trim():e&&!/ $/.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const t=e[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(t);return this.lexer.state.top=n,{type:"blockquote",raw:e[0],tokens:r,text:t}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n,r,i,o,s,l,a,u,c,h,f,p,d=e[1].trim();const g=d.length>1,m={type:"list",raw:"",ordered:g,start:g?+d.slice(0,-1):"",loose:!1,items:[]};d=g?`\\d{1,9}\\${d.slice(-1)}`:`\\${d}`,this.options.pedantic&&(d=g?d:"[*+-]");const y=new RegExp(`^( {0,3}${d})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;t&&(p=!1,e=y.exec(t))&&!this.rules.block.hr.test(t);){if(n=e[0],t=t.substring(n.length),u=e[2].split("\n",1)[0].replace(/^\t+/,(t=>" ".repeat(3*t.length))),c=t.split("\n",1)[0],this.options.pedantic?(o=2,f=u.trimLeft()):(o=e[2].search(/[^ ]/),o=o>4?1:o,f=u.slice(o),o+=e[1].length),l=!1,!u&&/^ *$/.test(c)&&(n+=c+"\n",t=t.substring(c.length+1),p=!0),!p){const e=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),r=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),s=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;t&&(h=t.split("\n",1)[0],c=h,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!i.test(c))&&!s.test(c)&&!e.test(c)&&!r.test(t);){if(c.search(/[^ ]/)>=o||!c.trim())f+="\n"+c.slice(o);else{if(l)break;if(u.search(/[^ ]/)>=4)break;if(i.test(u))break;if(s.test(u))break;if(r.test(u))break;f+="\n"+c}l||c.trim()||(l=!0),n+=h+"\n",t=t.substring(h.length+1),u=c.slice(o)}}m.loose||(a?m.loose=!0:/\n *\n *$/.test(n)&&(a=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(f),r&&(i="[ ] "!==r[0],f=f.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:f}),m.raw+=n}m.items[m.items.length-1].raw=n.trimRight(),m.items[m.items.length-1].text=f.trimRight(),m.raw=m.raw.trimRight();const w=m.items.length;for(s=0;s<w;s++)if(this.lexer.state.top=!1,m.items[s].tokens=this.lexer.blockTokens(m.items[s].text,[]),!m.loose){const t=m.items[s].tokens.filter((t=>"space"===t.type)),e=t.length>0&&t.some((t=>/\n.*\n/.test(t.raw)));m.loose=e}if(m.loose)for(s=0;s<w;s++)m.items[s].loose=!0;return m}}html(t){const e=this.rules.block.html.exec(t);if(e){const t={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(e[0]):kt(e[0]);t.type="paragraph",t.text=n,t.tokens=this.lexer.inline(n)}return t}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(/\s+/g," "),n=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:r}}}table(t){const e=this.rules.block.table.exec(t);if(e){const t={type:"table",header:Ot(e[1]).map((t=>({text:t}))),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(t.header.length===t.align.length){t.raw=e[0];let n,r,i,o,s=t.align.length;for(n=0;n<s;n++)/^ *-+: *$/.test(t.align[n])?t.align[n]="right":/^ *:-+: *$/.test(t.align[n])?t.align[n]="center":/^ *:-+ *$/.test(t.align[n])?t.align[n]="left":t.align[n]=null;for(s=t.rows.length,n=0;n<s;n++)t.rows[n]=Ot(t.rows[n],t.header.length).map((t=>({text:t})));for(s=t.header.length,r=0;r<s;r++)t.header[r].tokens=this.lexer.inline(t.header[r].text);for(s=t.rows.length,r=0;r<s;r++)for(o=t.rows[r],i=0;i<o.length;i++)o[i].tokens=this.lexer.inline(o[i].text);return t}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:kt(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):kt(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const e=Pt(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t,e){if(-1===t.indexOf(e[1]))return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}(e[2],"()");if(t>-1){const n=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,n).trim(),e[3]=""}}let n=e[2],r="";if(this.options.pedantic){const t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);t&&(n=t[1],r=t[3])}else r=e[3]?e[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(t)?n.slice(1):n.slice(1,-1)),Dt(e,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},e[0],this.lexer)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let t=(n[2]||n[1]).replace(/\s+/g," ");if(t=e[t.toLowerCase()],!t){const t=n[0].charAt(0);return{type:"text",raw:t,text:t}}return Dt(n,t,n[0],this.lexer)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrong.lDelim.exec(t);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let i,o,s=n,l=0;const a="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(a.lastIndex=0,e=e.slice(-1*t.length+n);null!=(r=a.exec(e));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=i.length,r[3]||r[4]){s+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){l+=o;continue}if(s-=o,s>0)continue;o=Math.min(o,o+s+l);const e=t.slice(0,n+r.index+(r[0].length-i.length)+o);if(Math.min(n,o)%2){const t=e.slice(1,-1);return{type:"em",raw:e,text:t,tokens:this.lexer.inlineTokens(t)}}const a=e.slice(2,-2);return{type:"strong",raw:e,text:a,tokens:this.lexer.inlineTokens(a)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(/\n/g," ");const n=/[^ ]/.test(t),r=/^ /.test(t)&&/ $/.test(t);return n&&r&&(t=t.substring(1,t.length-1)),t=kt(t,!0),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t,e){const n=this.rules.inline.autolink.exec(t);if(n){let t,r;return"@"===n[2]?(t=kt(this.options.mangle?e(n[1]):n[1]),r="mailto:"+t):(t=kt(n[1]),r=t),{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(t,e){let n;if(n=this.rules.inline.url.exec(t)){let t,r;if("@"===n[2])t=kt(this.options.mangle?e(n[0]):n[0]),r="mailto:"+t;else{let e;do{e=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(e!==n[0]);t=kt(n[0]),r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t,e){const n=this.rules.inline.text.exec(t);if(n){let t;return t=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):kt(n[0]):n[0]:kt(this.options.smartypants?e(n[0]):n[0]),{type:"text",raw:n[0],text:t}}}}const Bt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:qt,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Bt.def=At(Bt.def).replace("label",Bt._label).replace("title",Bt._title).getRegex(),Bt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Bt.listItemStart=At(/^( *)(bull) */).replace("bull",Bt.bullet).getRegex(),Bt.list=At(Bt.list).replace(/bull/g,Bt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Bt.def.source+")").getRegex(),Bt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Bt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Bt.html=At(Bt.html,"i").replace("comment",Bt._comment).replace("tag",Bt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Bt.paragraph=At(Bt._paragraph).replace("hr",Bt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bt._tag).getRegex(),Bt.blockquote=At(Bt.blockquote).replace("paragraph",Bt.paragraph).getRegex(),Bt.normal=Ct({},Bt),Bt.gfm=Ct({},Bt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Bt.gfm.table=At(Bt.gfm.table).replace("hr",Bt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bt._tag).getRegex(),Bt.gfm.paragraph=At(Bt._paragraph).replace("hr",Bt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Bt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bt._tag).getRegex(),Bt.pedantic=Ct({},Bt.normal,{html:At("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Bt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:At(Bt.normal._paragraph).replace("hr",Bt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Bt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Xt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:qt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:qt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Zt(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Yt(t){let e,n,r="";const i=t.length;for(e=0;e<i;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}Xt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Xt.punctuation=At(Xt.punctuation).replace(/punctuation/g,Xt._punctuation).getRegex(),Xt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Xt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Xt._comment=At(Bt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Xt.emStrong.lDelim=At(Xt.emStrong.lDelim).replace(/punct/g,Xt._punctuation).getRegex(),Xt.emStrong.rDelimAst=At(Xt.emStrong.rDelimAst,"g").replace(/punct/g,Xt._punctuation).getRegex(),Xt.emStrong.rDelimUnd=At(Xt.emStrong.rDelimUnd,"g").replace(/punct/g,Xt._punctuation).getRegex(),Xt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Xt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Xt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Xt.autolink=At(Xt.autolink).replace("scheme",Xt._scheme).replace("email",Xt._email).getRegex(),Xt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Xt.tag=At(Xt.tag).replace("comment",Xt._comment).replace("attribute",Xt._attribute).getRegex(),Xt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Xt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Xt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Xt.link=At(Xt.link).replace("label",Xt._label).replace("href",Xt._href).replace("title",Xt._title).getRegex(),Xt.reflink=At(Xt.reflink).replace("label",Xt._label).replace("ref",Bt._label).getRegex(),Xt.nolink=At(Xt.nolink).replace("ref",Bt._label).getRegex(),Xt.reflinkSearch=At(Xt.reflinkSearch,"g").replace("reflink",Xt.reflink).replace("nolink",Xt.nolink).getRegex(),Xt.normal=Ct({},Xt),Xt.pedantic=Ct({},Xt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:At(/^!?\[(label)\]\((.*?)\)/).replace("label",Xt._label).getRegex(),reflink:At(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Xt._label).getRegex()}),Xt.gfm=Ct({},Xt.normal,{escape:At(Xt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Xt.gfm.url=At(Xt.gfm.url,"i").replace("email",Xt.gfm._extended_email).getRegex(),Xt.breaks=Ct({},Xt.gfm,{br:At(Xt.br).replace("{2,}","*").getRegex(),text:At(Xt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Vt{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||gt,this.options.tokenizer=this.options.tokenizer||new Ut,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:Bt.normal,inline:Xt.normal};this.options.pedantic?(e.block=Bt.pedantic,e.inline=Xt.pedantic):this.options.gfm&&(e.block=Bt.gfm,this.options.breaks?e.inline=Xt.breaks:e.inline=Xt.gfm),this.tokenizer.rules=e}static get rules(){return{block:Bt,inline:Xt}}static lex(t,e){return new Vt(e).lex(t)}static lexInline(t,e){return new Vt(e).inlineTokens(t)}lex(t){let e;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){let n,r,i,o;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,((t,e,n)=>e+"    ".repeat(n.length)));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0)))))if(n=this.tokenizer.space(t))t=t.substring(n.raw.length),1===n.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(n);else if(n=this.tokenizer.code(t))t=t.substring(n.raw.length),r=e[e.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?e.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.heading(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.hr(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.blockquote(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.list(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.html(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.def(t))t=t.substring(n.raw.length),r=e[e.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.lheading(t))t=t.substring(n.raw.length),e.push(n);else{if(i=t,this.options.extensions&&this.options.extensions.startBlock){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startBlock.forEach((function(t){r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(i=t.substring(0,e+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))r=e[e.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n),o=i.length!==t.length,t=t.substring(n.raw.length);else if(n=this.tokenizer.text(t))t=t.substring(n.raw.length),r=e[e.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n,r,i,o,s,l,a=t;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(a));)t.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,o.index)+"["+jt("a",o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(a));)a=a.slice(0,o.index)+"["+jt("a",o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(a));)a=a.slice(0,o.index+o[0].length-2)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(s||(l=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0)))))if(n=this.tokenizer.escape(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.tag(t))t=t.substring(n.raw.length),r=e[e.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n);else if(n=this.tokenizer.link(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(n.raw.length),r=e[e.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n);else if(n=this.tokenizer.emStrong(t,a,l))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.codespan(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.br(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.del(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.autolink(t,Yt))t=t.substring(n.raw.length),e.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(t,Yt))){if(i=t,this.options.extensions&&this.options.extensions.startInline){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startInline.forEach((function(t){r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(i=t.substring(0,e+1))}if(n=this.tokenizer.inlineText(i,Zt))t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(l=n.raw.slice(-1)),s=!0,r=e[e.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}else t=t.substring(n.raw.length),e.push(n);return e}}class Ht{constructor(t){this.options=t||gt}code(t,e,n){const r=(e||"").match(/\S*/)[0];if(this.options.highlight){const e=this.options.highlight(t,r);null!=e&&e!==t&&(n=!0,t=e)}return t=t.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+kt(r)+'">'+(n?t:kt(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:kt(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t){return t}heading(t,e,n,r){if(this.options.headerIds){return`<h${e} id="${this.options.headerPrefix+r.slug(n)}">${t}</h${e}>\n`}return`<h${e}>${t}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(t,e,n){const r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"}listitem(t){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>\n`}table(t,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,e){const n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,e,n){if(null===(t=Nt(this.options.sanitize,this.options.baseUrl,t)))return n;let r='<a href="'+t+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>",r}image(t,e,n){if(null===(t=Nt(this.options.sanitize,this.options.baseUrl,t)))return n;let r=`<img src="${t}" alt="${n}"`;return e&&(r+=` title="${e}"`),r+=this.options.xhtml?"/>":">",r}text(t){return t}}class Ft{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,n){return""+n}image(t,e,n){return""+n}br(){return""}}class Qt{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let n=t,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[t];do{r++,n=t+"-"+r}while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=r,this.seen[n]=0),n}slug(t,e={}){const n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)}}class Wt{constructor(t){this.options=t||gt,this.options.renderer=this.options.renderer||new Ht,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ft,this.slugger=new Qt}static parse(t,e){return new Wt(e).parse(t)}static parseInline(t,e){return new Wt(e).parseInline(t)}parse(t,e=!0){let n,r,i,o,s,l,a,u,c,h,f,p,d,g,m,y,w,x,_,v="";const k=t.length;for(n=0;n<k;n++)if(h=t[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(_=this.options.extensions.renderers[h.type].call({parser:this},h),!1!==_||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)))v+=_||"";else switch(h.type){case"space":continue;case"hr":v+=this.renderer.hr();continue;case"heading":v+=this.renderer.heading(this.parseInline(h.tokens),h.depth,$t(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":v+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(u="",a="",o=h.header.length,r=0;r<o;r++)a+=this.renderer.tablecell(this.parseInline(h.header[r].tokens),{header:!0,align:h.align[r]});for(u+=this.renderer.tablerow(a),c="",o=h.rows.length,r=0;r<o;r++){for(l=h.rows[r],a="",s=l.length,i=0;i<s;i++)a+=this.renderer.tablecell(this.parseInline(l[i].tokens),{header:!1,align:h.align[i]});c+=this.renderer.tablerow(a)}v+=this.renderer.table(u,c);continue;case"blockquote":c=this.parse(h.tokens),v+=this.renderer.blockquote(c);continue;case"list":for(f=h.ordered,p=h.start,d=h.loose,o=h.items.length,c="",r=0;r<o;r++)m=h.items[r],y=m.checked,w=m.task,g="",m.task&&(x=this.renderer.checkbox(y),d?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=x+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=x+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:x}):g+=x),g+=this.parse(m.tokens,d),c+=this.renderer.listitem(g,w,y);v+=this.renderer.list(c,f,p);continue;case"html":v+=this.renderer.html(h.text);continue;case"paragraph":v+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(c=h.tokens?this.parseInline(h.tokens):h.text;n+1<k&&"text"===t[n+1].type;)h=t[++n],c+="\n"+(h.tokens?this.parseInline(h.tokens):h.text);v+=e?this.renderer.paragraph(c):c;continue;default:{const t='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(t);throw new Error(t)}}return v}parseInline(t,e){e=e||this.renderer;let n,r,i,o="";const s=t.length;for(n=0;n<s;n++)if(r=t[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(i=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))o+=i||"";else switch(r.type){case"escape":case"text":o+=e.text(r.text);break;case"html":o+=e.html(r.text);break;case"link":o+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break;case"image":o+=e.image(r.href,r.title,r.text);break;case"strong":o+=e.strong(this.parseInline(r.tokens,e));break;case"em":o+=e.em(this.parseInline(r.tokens,e));break;case"codespan":o+=e.codespan(r.text);break;case"br":o+=e.br();break;case"del":o+=e.del(this.parseInline(r.tokens,e));break;default:{const t='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(t);throw new Error(t)}}return o}}function Gt(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(n=e,e=null),Lt(e=Ct({},Gt.defaults,e||{})),n){const r=e.highlight;let i;try{i=Vt.lex(t,e)}catch(t){return n(t)}const o=function(t){let o;if(!t)try{e.walkTokens&&Gt.walkTokens(i,e.walkTokens),o=Wt.parse(i,e)}catch(e){t=e}return e.highlight=r,t?n(t):n(null,o)};if(!r||r.length<3)return o();if(delete e.highlight,!i.length)return o();let s=0;return Gt.walkTokens(i,(function(t){"code"===t.type&&(s++,setTimeout((()=>{r(t.text,t.lang,(function(e,n){if(e)return o(e);null!=n&&n!==t.text&&(t.text=n,t.escaped=!0),s--,0===s&&o()}))}),0))})),void(0===s&&o())}function r(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+kt(t.message+"",!0)+"</pre>";throw t}try{const n=Vt.lex(t,e);if(e.walkTokens){if(e.async)return Promise.all(Gt.walkTokens(n,e.walkTokens)).then((()=>Wt.parse(n,e))).catch(r);Gt.walkTokens(n,e.walkTokens)}return Wt.parse(n,e)}catch(t){r(t)}}function Kt(e){let n,i,o,s,l,a;return{c(){n=y("div"),i=new A(!1),o=_(),s=y("div"),i.a=o,b(s,"class","biblio"),b(n,"class","markdown svelte-1iw1h9x")},m(t,r){d(t,n,r),i.m(e[2],n),p(n,o),p(n,s),s.innerHTML=e[1],e[7](n),l||(a=[k(n,"click",e[3]),k(n,"keydown",e[8])],l=!0)},p(t,[e]){4&e&&i.p(t[2]),2&e&&(s.innerHTML=t[1])},i:t,o:t,d(t){t&&g(n),e[7](null),l=!1,r(a)}}}Gt.options=Gt.setOptions=function(t){var e;return Ct(Gt.defaults,t),e=Gt.defaults,gt=e,Gt},Gt.getDefaults=dt,Gt.defaults=gt,Gt.use=function(...t){const e=Gt.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((t=>{const n=Ct({},t);if(n.async=Gt.defaults.async||n.async,t.extensions&&(t.extensions.forEach((t=>{if(!t.name)throw new Error("extension name required");if(t.renderer){const n=e.renderers[t.name];e.renderers[t.name]=n?function(...e){let r=t.renderer.apply(this,e);return!1===r&&(r=n.apply(this,e)),r}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");e[t.level]?e[t.level].unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),n.extensions=e),t.renderer){const e=Gt.defaults.renderer||new Ht;for(const n in t.renderer){const r=e[n];e[n]=(...i)=>{let o=t.renderer[n].apply(e,i);return!1===o&&(o=r.apply(e,i)),o}}n.renderer=e}if(t.tokenizer){const e=Gt.defaults.tokenizer||new Ut;for(const n in t.tokenizer){const r=e[n];e[n]=(...i)=>{let o=t.tokenizer[n].apply(e,i);return!1===o&&(o=r.apply(e,i)),o}}n.tokenizer=e}if(t.walkTokens){const e=Gt.defaults.walkTokens;n.walkTokens=function(n){let r=[];return r.push(t.walkTokens.call(this,n)),e&&(r=r.concat(e.call(this,n))),r}}Gt.setOptions(n)}))},Gt.walkTokens=function(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(Gt,r)),r.type){case"table":for(const t of r.header)n=n.concat(Gt.walkTokens(t.tokens,e));for(const t of r.rows)for(const r of t)n=n.concat(Gt.walkTokens(r.tokens,e));break;case"list":n=n.concat(Gt.walkTokens(r.items,e));break;default:Gt.defaults.extensions&&Gt.defaults.extensions.childTokens&&Gt.defaults.extensions.childTokens[r.type]?Gt.defaults.extensions.childTokens[r.type].forEach((function(t){n=n.concat(Gt.walkTokens(r[t],e))})):r.tokens&&(n=n.concat(Gt.walkTokens(r.tokens,e)))}return n},Gt.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");Lt(e=Ct({},Gt.defaults,e||{}));try{const n=Vt.lexInline(t,e);return e.walkTokens&&Gt.walkTokens(n,e.walkTokens),Wt.parseInline(n,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+kt(t.message+"",!0)+"</pre>";throw t}},Gt.Parser=Wt,Gt.parser=Wt.parse,Gt.Renderer=Ht,Gt.TextRenderer=Ft,Gt.Lexer=Vt,Gt.lexer=Vt.lex,Gt.Tokenizer=Ut,Gt.Slugger=Qt,Gt.parse=Gt,Gt.options,Gt.setOptions,Gt.use,Gt.walkTokens,Gt.parseInline,Wt.parse,Vt.lex;const Jt=/\[\^([^\]]+)\]/g;function te(t,e,n){let r,i,o,s;c(t,ot,(t=>n(5,i=t))),c(t,et,(t=>n(6,o=t)));const l=new Gt.Renderer;l.link=(t,e,n)=>{if(t.includes("http"))return`<a class="external" target="_blank" href="${t}" title="${n}">${n}</a>`;{let e=function(t){let e=o.items.filter((e=>e.url==t));if(e&&e.length>0){let t=e?.[0].data?.thumbnail_display_urls?.medium;return t}}(`${G}/resources/${t}`);return e?`<a class="node-highlite" data-id="${G}/resources/${t}" title="${n}">${n}(${t})</a><img src="${e}" alt="${n}"></img>`:`<a class="node-highlite" data-id="${G}/resources/${t}" title="${n}">${n}(${t})</a>`}};let a=1,u={};l.text=t=>{let e=t;return e=e.replace(Jt,((t,e)=>{let n=u[e];return n||(n={id:a,text:e},u[e]=n,a++),`<sup class="footnote-reference" id="footnote-reference-${n.id}"><a href="#footnote-${n.id}">${n.id}</a></sup>`})),e};let h;new Promise((t=>{t(Gt(o.markdown,{renderer:l}))})).then((t=>{const e=Object.values(u).map((t=>`<li id="footnote-${t.id}">${t.text} <a href="#footnote-reference-${t.id}">&#8617;</a></li>`)).join("");n(1,h=`<ol class="footnotes">${e}</ol>`)}));return t.$$.update=()=>{if(80&t.$$.dirty&&n(2,r=Gt(o.markdown,{renderer:l})),32&t.$$.dirty&&null!=i){document.querySelectorAll("a[data-id]").forEach((t=>{t.classList.remove("selection")}));let t=document.querySelector(`a[data-id="${i.id}"]`);t&&t.classList.add("selection")}},[s,h,r,function(t){"A"===t.target.tagName&&t.target.getAttribute("data-id")&&(f(ot,i=t.target.getAttribute("data-id"),i),t.target.classList.toggle("selected"))},l,i,o,function(t){T[t?"unshift":"push"]((()=>{s=t,n(0,s)}))},t=>{"Enter"===t.key||t.key}]}class ee extends W{constructor(t){super(),Q(this,t,te,Kt,o,{})}}var ne={value:()=>{}};function re(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ie(r)}function ie(t){this._=t}function oe(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function se(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function le(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ne,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ie.prototype=re.prototype={constructor:ie,on:function(t,e){var n,r=this._,i=oe(t+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=i[o]).type)r[n]=le(r[n],t.name,e);else if(null==e)for(n in r)r[n]=le(r[n],t.name,null);return this}for(;++o<s;)if((n=(t=i[o]).type)&&(n=se(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ie(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var ae="http://www.w3.org/1999/xhtml",ue={svg:"http://www.w3.org/2000/svg",xhtml:ae,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ce(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ue.hasOwnProperty(e)?{space:ue[e],local:t}:t}function he(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ae&&e.documentElement.namespaceURI===ae?e.createElement(t):e.createElementNS(n,t)}}function fe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pe(t){var e=ce(t);return(e.local?fe:he)(e)}function de(){}function ge(t){return null==t?de:function(){return this.querySelector(t)}}function me(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function ye(){return[]}function we(t){return null==t?ye:function(){return this.querySelectorAll(t)}}function xe(t){return function(){return this.matches(t)}}function _e(t){return function(e){return e.matches(t)}}var ve=Array.prototype.find;function ke(){return this.firstElementChild}var be=Array.prototype.filter;function $e(){return Array.from(this.children)}function ze(t){return new Array(t.length)}function Ae(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Se(t){return function(){return t}}function Ee(t,e,n,r,i,o){for(var s,l=0,a=e.length,u=o.length;l<u;++l)(s=e[l])?(s.__data__=o[l],r[l]=s):n[l]=new Ae(t,o[l]);for(;l<a;++l)(s=e[l])&&(i[l]=s)}function Ne(t,e,n,r,i,o,s){var l,a,u,c=new Map,h=e.length,f=o.length,p=new Array(h);for(l=0;l<h;++l)(a=e[l])&&(p[l]=u=s.call(a,a.__data__,l,e)+"",c.has(u)?i[l]=a:c.set(u,a));for(l=0;l<f;++l)u=s.call(t,o[l],l,o)+"",(a=c.get(u))?(r[l]=a,a.__data__=o[l],c.delete(u)):n[l]=new Ae(t,o[l]);for(l=0;l<h;++l)(a=e[l])&&c.get(p[l])===a&&(i[l]=a)}function Me(t){return t.__data__}function Te(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Re(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ie(t){return function(){this.removeAttribute(t)}}function qe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ce(t,e){return function(){this.setAttribute(t,e)}}function Oe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Pe(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Le(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function je(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function De(t){return function(){this.style.removeProperty(t)}}function Ue(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Be(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Xe(t,e){return t.style.getPropertyValue(e)||je(t).getComputedStyle(t,null).getPropertyValue(e)}function Ze(t){return function(){delete this[t]}}function Ye(t,e){return function(){this[t]=e}}function Ve(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function He(t){return t.trim().split(/^|\s+/)}function Fe(t){return t.classList||new Qe(t)}function Qe(t){this._node=t,this._names=He(t.getAttribute("class")||"")}function We(t,e){for(var n=Fe(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ge(t,e){for(var n=Fe(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ke(t){return function(){We(this,t)}}function Je(t){return function(){Ge(this,t)}}function tn(t,e){return function(){(e.apply(this,arguments)?We:Ge)(this,t)}}function en(){this.textContent=""}function nn(t){return function(){this.textContent=t}}function rn(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function on(){this.innerHTML=""}function sn(t){return function(){this.innerHTML=t}}function ln(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function an(){this.nextSibling&&this.parentNode.appendChild(this)}function un(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cn(){return null}function hn(){var t=this.parentNode;t&&t.removeChild(this)}function fn(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dn(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function gn(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function mn(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,l=i.length;s<l;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function yn(t,e,n){var r=je(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function wn(t,e){return function(){return yn(this,t,e)}}function xn(t,e){return function(){return yn(this,t,e.apply(this,arguments))}}Ae.prototype={constructor:Ae,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Qe.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var _n=[null];function vn(t,e){this._groups=t,this._parents=e}function kn(){return new vn([[document.documentElement]],_n)}function bn(t){return"string"==typeof t?new vn([[document.querySelector(t)]],[document.documentElement]):new vn([[t]],_n)}function $n(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}vn.prototype=kn.prototype={constructor:vn,select:function(t){"function"!=typeof t&&(t=ge(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,l=e[i],a=l.length,u=r[i]=new Array(a),c=0;c<a;++c)(o=l[c])&&(s=t.call(o,o.__data__,c,l))&&("__data__"in o&&(s.__data__=o.__data__),u[c]=s);return new vn(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return me(t.apply(this,arguments))}}(t):we(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,l=e[o],a=l.length,u=0;u<a;++u)(s=l[u])&&(r.push(t.call(s,s.__data__,u,l)),i.push(s));return new vn(r,i)},selectChild:function(t){return this.select(null==t?ke:function(t){return function(){return ve.call(this.children,t)}}("function"==typeof t?t:_e(t)))},selectChildren:function(t){return this.selectAll(null==t?$e:function(t){return function(){return be.call(this.children,t)}}("function"==typeof t?t:_e(t)))},filter:function(t){"function"!=typeof t&&(t=xe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],l=s.length,a=r[i]=[],u=0;u<l;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&a.push(o);return new vn(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Me);var n=e?Ne:Ee,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Se(t));for(var o=i.length,s=new Array(o),l=new Array(o),a=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,p=Te(t.call(c,c&&c.__data__,u,r)),d=p.length,g=l[u]=new Array(d),m=s[u]=new Array(d),y=a[u]=new Array(f);n(c,h,g,m,y,p,e);for(var w,x,_=0,v=0;_<d;++_)if(w=g[_]){for(_>=v&&(v=_+1);!(x=m[v])&&++v<d;);w._next=x||null}}return(s=new vn(s,r))._enter=l,s._exit=a,s},enter:function(){return new vn(this._enter||this._groups.map(ze),this._parents)},exit:function(){return new vn(this._exit||this._groups.map(ze),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),a=0;a<s;++a)for(var u,c=n[a],h=r[a],f=c.length,p=l[a]=new Array(f),d=0;d<f;++d)(u=c[d]||h[d])&&(p[d]=u);for(;a<i;++a)l[a]=n[a];return new vn(l,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Re);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,l=n[o],a=l.length,u=i[o]=new Array(a),c=0;c<a;++c)(s=l[c])&&(u[c]=s);u.sort(e)}return new vn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,l=o.length;s<l;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=ce(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?qe:Ie:"function"==typeof e?n.local?Le:Pe:n.local?Oe:Ce)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?De:"function"==typeof e?Be:Ue)(t,e,null==n?"":n)):Xe(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ze:"function"==typeof e?Ve:Ye)(t,e)):this.node()[t]},classed:function(t,e){var n=He(t+"");if(arguments.length<2){for(var r=Fe(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?tn:e?Ke:Je)(n,e))},text:function(t){return arguments.length?this.each(null==t?en:("function"==typeof t?rn:nn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?on:("function"==typeof t?ln:sn)(t)):this.node().innerHTML},raise:function(){return this.each(an)},lower:function(){return this.each(un)},append:function(t){var e="function"==typeof t?t:pe(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:pe(t),r=null==e?cn:"function"==typeof e?e:ge(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(hn)},clone:function(t){return this.select(t?pn:fn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=dn(t+""),s=o.length;if(!(arguments.length<2)){for(l=e?mn:gn,r=0;r<s;++r)this.each(l(o[r],e,n));return this}var l=this.node().__on;if(l)for(var a,u=0,c=l.length;u<c;++u)for(r=0,a=l[u];r<s;++r)if((i=o[r]).type===a.type&&i.name===a.name)return a.value},dispatch:function(t,e){return this.each(("function"==typeof e?xn:wn)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const zn={capture:!0,passive:!1};function An(t){t.preventDefault(),t.stopImmediatePropagation()}function Sn(t){var e=t.document.documentElement,n=bn(t).on("dragstart.drag",An,zn);"onselectstart"in e?n.on("selectstart.drag",An,zn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function En(t,e){var n=t.document.documentElement,r=bn(t).on("dragstart.drag",null);e&&(r.on("click.drag",An,zn),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Nn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Mn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Tn(){}var Rn=.7,In=1/Rn,qn="\\s*([+-]?\\d+)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pn=/^#([0-9a-f]{3,8})$/,Ln=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),jn=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),Dn=new RegExp(`^rgba\\(${qn},${qn},${qn},${Cn}\\)$`),Un=new RegExp(`^rgba\\(${On},${On},${On},${Cn}\\)$`),Bn=new RegExp(`^hsl\\(${Cn},${On},${On}\\)$`),Xn=new RegExp(`^hsla\\(${Cn},${On},${On},${Cn}\\)$`),Zn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Yn(){return this.rgb().formatHex()}function Vn(){return this.rgb().formatRgb()}function Hn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Fn(e):3===n?new Kn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Qn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Qn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ln.exec(t))?new Kn(e[1],e[2],e[3],1):(e=jn.exec(t))?new Kn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Dn.exec(t))?Qn(e[1],e[2],e[3],e[4]):(e=Un.exec(t))?Qn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Bn.exec(t))?ir(e[1],e[2]/100,e[3]/100,1):(e=Xn.exec(t))?ir(e[1],e[2]/100,e[3]/100,e[4]):Zn.hasOwnProperty(t)?Fn(Zn[t]):"transparent"===t?new Kn(NaN,NaN,NaN,0):null}function Fn(t){return new Kn(t>>16&255,t>>8&255,255&t,1)}function Qn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kn(t,e,n,r)}function Wn(t){return t instanceof Tn||(t=Hn(t)),t?new Kn((t=t.rgb()).r,t.g,t.b,t.opacity):new Kn}function Gn(t,e,n,r){return 1===arguments.length?Wn(t):new Kn(t,e,n,null==r?1:r)}function Kn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Jn(){return`#${rr(this.r)}${rr(this.g)}${rr(this.b)}`}function tr(){const t=er(this.opacity);return`${1===t?"rgb(":"rgba("}${nr(this.r)}, ${nr(this.g)}, ${nr(this.b)}${1===t?")":`, ${t})`}`}function er(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rr(t){return((t=nr(t))<16?"0":"")+t.toString(16)}function ir(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sr(t,e,n,r)}function or(t){if(t instanceof sr)return new sr(t.h,t.s,t.l,t.opacity);if(t instanceof Tn||(t=Hn(t)),!t)return new sr;if(t instanceof sr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,a=(o+i)/2;return l?(s=e===o?(n-r)/l+6*(n<r):n===o?(r-e)/l+2:(e-n)/l+4,l/=a<.5?o+i:2-o-i,s*=60):l=a>0&&a<1?0:s,new sr(s,l,a,t.opacity)}function sr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function lr(t){return(t=(t||0)%360)<0?t+360:t}function ar(t){return Math.max(0,Math.min(1,t||0))}function ur(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Nn(Tn,Hn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Yn,formatHex:Yn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return or(this).formatHsl()},formatRgb:Vn,toString:Vn}),Nn(Kn,Gn,Mn(Tn,{brighter(t){return t=null==t?In:Math.pow(In,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Rn:Math.pow(Rn,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kn(nr(this.r),nr(this.g),nr(this.b),er(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jn,formatHex:Jn,formatHex8:function(){return`#${rr(this.r)}${rr(this.g)}${rr(this.b)}${rr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:tr,toString:tr})),Nn(sr,(function(t,e,n,r){return 1===arguments.length?or(t):new sr(t,e,n,null==r?1:r)}),Mn(Tn,{brighter(t){return t=null==t?In:Math.pow(In,t),new sr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Rn:Math.pow(Rn,t),new sr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Kn(ur(t>=240?t-240:t+120,i,r),ur(t,i,r),ur(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new sr(lr(this.h),ar(this.s),ar(this.l),er(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=er(this.opacity);return`${1===t?"hsl(":"hsla("}${lr(this.h)}, ${100*ar(this.s)}%, ${100*ar(this.l)}%${1===t?")":`, ${t})`}`}}));var cr=t=>()=>t;function hr(t){return 1==(t=+t)?fr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):cr(isNaN(e)?n:e)}}function fr(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):cr(isNaN(t)?e:t)}var pr=function t(e){var n=hr(e);function r(t,e){var r=n((t=Gn(t)).r,(e=Gn(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=fr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function dr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var gr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mr=new RegExp(gr.source,"g");function yr(t,e){var n,r,i,o=gr.lastIndex=mr.lastIndex=0,s=-1,l=[],a=[];for(t+="",e+="";(n=gr.exec(t))&&(r=mr.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(r=r[0])?l[s]?l[s]+=r:l[++s]=r:(l[++s]=null,a.push({i:s,x:dr(n,r)})),o=mr.lastIndex;return o<e.length&&(i=e.slice(o),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?function(t){return function(e){return t(e)+""}}(a[0].x):function(t){return function(){return t}}(e):(e=a.length,function(t){for(var n,r=0;r<e;++r)l[(n=a[r]).i]=n.x(t);return l.join("")})}var wr,xr=180/Math.PI,_r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vr(t,e,n,r,i,o){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*r)&&(n-=t*a,r-=e*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),t*r<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*xr,skewX:Math.atan(a)*xr,scaleX:s,scaleY:l}}function kr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var l=[],a=[];return o=t(o),s=t(s),function(t,r,i,o,s,l){if(t!==i||r!==o){var a=s.push("translate(",null,e,null,n);l.push({i:a-4,x:dr(t,i)},{i:a-2,x:dr(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,l,a),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:dr(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,s.rotate,l,a),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:dr(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,s.skewX,l,a),function(t,e,n,r,o,s){if(t!==n||e!==r){var l=o.push(i(o)+"scale(",null,",",null,")");s.push({i:l-4,x:dr(t,n)},{i:l-2,x:dr(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,l,a),o=s=null,function(t){for(var e,n=-1,r=a.length;++n<r;)l[(e=a[n]).i]=e.x(t);return l.join("")}}}var br=kr((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_r:vr(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),$r=kr((function(t){return null==t?_r:(wr||(wr=document.createElementNS("http://www.w3.org/2000/svg","g")),wr.setAttribute("transform",t),(t=wr.transform.baseVal.consolidate())?vr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):_r)}),", ",")",")");function zr(t){return((t=Math.exp(t))+1/t)/2}var Ar,Sr,Er=function t(e,n,r){function i(t,i){var o,s,l=t[0],a=t[1],u=t[2],c=i[0],h=i[1],f=i[2],p=c-l,d=h-a,g=p*p+d*d;if(g<1e-12)s=Math.log(f/u)/e,o=function(t){return[l+t*p,a+t*d,u*Math.exp(e*t*s)]};else{var m=Math.sqrt(g),y=(f*f-u*u+r*g)/(2*u*n*m),w=(f*f-u*u-r*g)/(2*f*n*m),x=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(w*w+1)-w);s=(_-x)/e,o=function(t){var r=t*s,i=zr(x),o=u/(n*m)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+x)-function(t){return((t=Math.exp(t))-1/t)/2}(x));return[l+o*p,a+o*d,u*i/zr(e*r+x)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4),Nr=0,Mr=0,Tr=0,Rr=0,Ir=0,qr=0,Cr="object"==typeof performance&&performance.now?performance:Date,Or="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Pr(){return Ir||(Or(Lr),Ir=Cr.now()+qr)}function Lr(){Ir=0}function jr(){this._call=this._time=this._next=null}function Dr(t,e,n){var r=new jr;return r.restart(t,e,n),r}function Ur(){Ir=(Rr=Cr.now())+qr,Nr=Mr=0;try{!function(){Pr(),++Nr;for(var t,e=Ar;e;)(t=Ir-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Nr}()}finally{Nr=0,function(){var t,e,n=Ar,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ar=e);Sr=t,Xr(r)}(),Ir=0}}function Br(){var t=Cr.now(),e=t-Rr;e>1e3&&(qr-=e,Rr=t)}function Xr(t){Nr||(Mr&&(Mr=clearTimeout(Mr)),t-Ir>24?(t<1/0&&(Mr=setTimeout(Ur,t-Cr.now()-qr)),Tr&&(Tr=clearInterval(Tr))):(Tr||(Rr=Cr.now(),Tr=setInterval(Br,1e3)),Nr=1,Or(Ur)))}function Zr(t,e,n){var r=new jr;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}jr.prototype=Dr.prototype={constructor:jr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Pr():+n)+(null==e?0:+e),this._next||Sr===this||(Sr?Sr._next=this:Ar=this,Sr=this),this._call=t,this._time=n,Xr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xr())}};var Yr=re("start","end","cancel","interrupt"),Vr=[];function Hr(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}function s(o){var u,c,h,f;if(1!==n.state)return a();for(u in i)if((f=i[u]).name===n.name){if(3===f.state)return Zr(s);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[u]):+u<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[u])}if(Zr((function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function l(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),o=-1,s=r.length;++o<s;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Dr(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Yr,tween:Vr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Fr(t,e){var n=Wr(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Qr(t,e){var n=Wr(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Wr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Gr(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}}function Kr(t,e){var n,r;return function(){var i=Qr(this,t),o=i.tween;if(o!==n)for(var s=0,l=(r=n=o).length;s<l;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function Jr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Qr(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===e){i[a]=l;break}a===u&&i.push(l)}o.tween=i}}function ti(t,e,n){var r=t._id;return t.each((function(){var t=Qr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Wr(t,r).value[e]}}function ei(t,e){var n;return("number"==typeof e?dr:e instanceof Hn?pr:(n=Hn(e))?(e=n,pr):yr)(t,e)}function ni(t){return function(){this.removeAttribute(t)}}function ri(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ii(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}}function oi(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}function si(t,e,n){var r,i,o;return function(){var s,l,a=n(this);if(null!=a)return(s=this.getAttribute(t))===(l=a+"")?null:s===r&&l===i?o:(i=l,o=e(r=s,a));this.removeAttribute(t)}}function li(t,e,n){var r,i,o;return function(){var s,l,a=n(this);if(null!=a)return(s=this.getAttributeNS(t.space,t.local))===(l=a+"")?null:s===r&&l===i?o:(i=l,o=e(r=s,a));this.removeAttributeNS(t.space,t.local)}}function ai(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ui(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ci(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ui(t,i)),n}return i._value=e,i}function hi(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ai(t,i)),n}return i._value=e,i}function fi(t,e){return function(){Fr(this,t).delay=+e.apply(this,arguments)}}function pi(t,e){return e=+e,function(){Fr(this,t).delay=e}}function di(t,e){return function(){Qr(this,t).duration=+e.apply(this,arguments)}}function gi(t,e){return e=+e,function(){Qr(this,t).duration=e}}function mi(t,e){if("function"!=typeof e)throw new Error;return function(){Qr(this,t).ease=e}}function yi(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Fr:Qr;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}var wi=kn.prototype.constructor;function xi(t){return function(){this.style.removeProperty(t)}}function _i(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function vi(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&_i(t,o,n)),r}return o._value=e,o}function ki(t){return function(e){this.textContent=t.call(this,e)}}function bi(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&ki(r)),e}return r._value=t,r}var $i=0;function zi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ai(){return++$i}var Si=kn.prototype;zi.prototype={constructor:zi,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ge(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l,a,u=r[s],c=u.length,h=o[s]=new Array(c),f=0;f<c;++f)(l=u[f])&&(a=t.call(l,l.__data__,f,u))&&("__data__"in l&&(a.__data__=l.__data__),h[f]=a,Hr(h[f],e,n,f,h,Wr(l,n)));return new zi(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=we(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var a,u=r[l],c=u.length,h=0;h<c;++h)if(a=u[h]){for(var f,p=t.call(a,a.__data__,h,u),d=Wr(a,n),g=0,m=p.length;g<m;++g)(f=p[g])&&Hr(f,e,n,g,p,d);o.push(p),s.push(a)}return new zi(o,s,e,n)},selectChild:Si.selectChild,selectChildren:Si.selectChildren,filter:function(t){"function"!=typeof t&&(t=xe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],l=s.length,a=r[i]=[],u=0;u<l;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&a.push(o);return new zi(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var a,u=e[l],c=n[l],h=u.length,f=s[l]=new Array(h),p=0;p<h;++p)(a=u[p]||c[p])&&(f[p]=a);for(;l<r;++l)s[l]=e[l];return new zi(s,this._parents,this._name,this._id)},selection:function(){return new wi(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Ai(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,l=r[o],a=l.length,u=0;u<a;++u)if(s=l[u]){var c=Wr(s,e);Hr(s,t,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new zi(r,this._parents,t,n)},call:Si.call,nodes:Si.nodes,node:Si.node,size:Si.size,empty:Si.empty,each:Si.each,on:function(t,e){var n=this._id;return arguments.length<2?Wr(this.node(),n).on.on(t):this.each(yi(n,t,e))},attr:function(t,e){var n=ce(t),r="transform"===n?$r:ei;return this.attrTween(t,"function"==typeof e?(n.local?li:si)(n,r,ti(this,"attr."+t,e)):null==e?(n.local?ri:ni)(n):(n.local?oi:ii)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=ce(t);return this.tween(n,(r.local?ci:hi)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?br:ei;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Xe(this,t),s=(this.style.removeProperty(t),Xe(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,xi(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=Xe(this,t),l=n(this),a=l+"";return null==l&&(this.style.removeProperty(t),a=l=Xe(this,t)),s===a?null:s===r&&a===i?o:(i=a,o=e(r=s,l))}}(t,r,ti(this,"style."+t,e))).each(function(t,e){var n,r,i,o,s="style."+e,l="end."+s;return function(){var a=Qr(this,t),u=a.on,c=null==a.value[s]?o||(o=xi(e)):void 0;u===n&&i===c||(r=(n=u).copy()).on(l,i=c),a.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var s=Xe(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,vi(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(ti(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,bi(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Wr(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Kr:Jr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?fi:pi)(e,t)):Wr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?di:gi)(e,t)):Wr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(mi(e,t)):Wr(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Qr(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var l={value:s},a={value:function(){0==--i&&o()}};n.each((function(){var n=Qr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Si[Symbol.iterator]};var Ei={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ni(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Mi(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,s,l,a,u,c,h,f,p=t._root,d={data:r},g=t._x0,m=t._y0,y=t._x1,w=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((u=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(s=(m+w)/2))?m=s:w=s,i=p,!(p=p[h=c<<1|u]))return i[h]=d,t;if(l=+t._x.call(null,p.data),a=+t._y.call(null,p.data),e===l&&n===a)return d.next=p,i?i[h]=d:t._root=d,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(s=(m+w)/2))?m=s:w=s}while((h=c<<1|u)==(f=(a>=s)<<1|l>=o));return i[f]=p,i[h]=d,t}function Ti(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Ri(t){return t[0]}function Ii(t){return t[1]}function qi(t,e,n){var r=new Ci(null==e?Ri:e,null==n?Ii:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ci(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Oi(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}kn.prototype.interrupt=function(t){return this.each((function(){Gr(this,t)}))},kn.prototype.transition=function(t){var e,n;t instanceof zi?(e=t._id,t=t._name):(e=Ai(),(n=Ei).time=Pr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,l=r[o],a=l.length,u=0;u<a;++u)(s=l[u])&&Hr(s,t,e,u,l,n||Ni(s,e));return new zi(r,this._parents,t,e)};var Pi=qi.prototype=Ci.prototype;function Li(t){return function(){return t}}function ji(t){return 1e-6*(t()-.5)}function Di(t){return t.x+t.vx}function Ui(t){return t.y+t.vy}function Bi(t){return t.index}function Xi(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}Pi.copy=function(){var t,e,n=new Ci(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Oi(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Oi(e));return n},Pi.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Mi(this.cover(e,n),e,n,t)},Pi.addAll=function(t){var e,n,r,i,o=t.length,s=new Array(o),l=new Array(o),a=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(s[n]=r,l[n]=i,r<a&&(a=r),r>c&&(c=r),i<u&&(u=i),i>h&&(h=i));if(a>c||u>h)return this;for(this.cover(a,u).cover(c,h),n=0;n<o;++n)Mi(this,s[n],l[n],t[n]);return this},Pi.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s,l,a=i-n||1,u=this._root;n>t||t>=i||r>e||e>=o;)switch(l=(e<r)<<1|t<n,(s=new Array(4))[l]=u,u=s,a*=2,l){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Pi.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Pi.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Pi.find=function(t,e,n){var r,i,o,s,l,a,u,c=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new Ti(g,c,h,f,p)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,p=e+n,n*=n);a=d.pop();)if(!(!(g=a.node)||(i=a.x0)>f||(o=a.y0)>p||(s=a.x1)<c||(l=a.y1)<h))if(g.length){var m=(i+s)/2,y=(o+l)/2;d.push(new Ti(g[3],m,y,s,l),new Ti(g[2],i,y,m,l),new Ti(g[1],m,o,s,y),new Ti(g[0],i,o,m,y)),(u=(e>=y)<<1|t>=m)&&(a=d[d.length-1],d[d.length-1]=d[d.length-1-u],d[d.length-1-u]=a)}else{var w=t-+this._x.call(null,g.data),x=e-+this._y.call(null,g.data),_=w*w+x*x;if(_<n){var v=Math.sqrt(n=_);c=t-v,h=e-v,f=t+v,p=e+v,r=g.data}}return r},Pi.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,r,i,o,s,l,a,u,c,h,f,p=this._root,d=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((u=o>=(l=(d+m)/2))?d=l:m=l,(c=s>=(a=(g+y)/2))?g=a:y=a,e=p,!(p=p[h=c<<1|u]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},Pi.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Pi.root=function(){return this._root},Pi.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Pi.visit=function(t){var e,n,r,i,o,s,l=[],a=this._root;for(a&&l.push(new Ti(a,this._x0,this._y0,this._x1,this._y1));e=l.pop();)if(!t(a=e.node,r=e.x0,i=e.y0,o=e.x1,s=e.y1)&&a.length){var u=(r+o)/2,c=(i+s)/2;(n=a[3])&&l.push(new Ti(n,u,c,o,s)),(n=a[2])&&l.push(new Ti(n,r,c,u,s)),(n=a[1])&&l.push(new Ti(n,u,i,o,c)),(n=a[0])&&l.push(new Ti(n,r,i,u,c))}return this},Pi.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Ti(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,s=e.x0,l=e.y0,a=e.x1,u=e.y1,c=(s+a)/2,h=(l+u)/2;(o=i[0])&&n.push(new Ti(o,s,l,c,h)),(o=i[1])&&n.push(new Ti(o,c,l,a,h)),(o=i[2])&&n.push(new Ti(o,s,h,c,u)),(o=i[3])&&n.push(new Ti(o,c,h,a,u))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Pi.x=function(t){return arguments.length?(this._x=t,this):this._x},Pi.y=function(t){return arguments.length?(this._y=t,this):this._y};const Zi=4294967296;var Yi=Math.PI*(3-Math.sqrt(5));function Vi(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,l=new Map,a=Dr(h),u=re("tick","end"),c=function(){let t=1;return()=>(t=(1664525*t+1013904223)%Zi)/Zi}();function h(){f(),u.call("tick",e),n<r&&(a.stop(),u.call("end",e))}function f(r){var a,u,c=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,l.forEach((function(t){t(n)})),a=0;a<c;++a)null==(u=t[a]).fx?u.x+=u.vx*=s:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=s:(u.y=u.fy,u.vy=0);return e}function p(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*Yi;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),p(),e={tick:f,restart:function(){return a.restart(h),e},stop:function(){return a.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),l.forEach(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(c=t,l.forEach(d),e):c},force:function(t,n){return arguments.length>1?(null==n?l.delete(t):l.set(t,d(n)),e):l.get(t)},find:function(e,n,r){var i,o,s,l,a,u=0,c=t.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(s=(i=e-(l=t[u]).x)*i+(o=n-l.y)*o)<r&&(a=l,r=s);return a},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}}var Hi=t=>()=>t;function Fi(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Qi(t,e,n){this.k=t,this.x=e,this.y=n}Qi.prototype={constructor:Qi,scale:function(t){return 1===t?this:new Qi(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Qi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wi=new Qi(1,0,0);function Gi(t){t.stopImmediatePropagation()}function Ki(t){t.preventDefault(),t.stopImmediatePropagation()}function Ji(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function to(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function eo(){return this.__zoom||Wi}function no(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ro(){return navigator.maxTouchPoints||"ontouchstart"in this}function io(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function oo(t,e,n){const r=t.slice();return r[21]=e[n],r}function so(t,e,n){const r=t.slice();return r[24]=e[n],r}function lo(t){let e,n,r,i,o,s;return{c(){e=w("g"),n=w("path"),b(n,"d",r=co(t[24])),b(n,"data-attr",i=t[24].source.id),b(n,"transform",o="translate("+t[5].x+" "+t[5].y+") scale("+t[5].k+" "+t[5].k+")"),b(e,"class",s=h(t[24].class)+" svelte-216yrr"),b(e,"stroke-width","1"),b(e,"fill","none")},m(t,r){d(t,e,r),p(e,n)},p(t,l){64&l&&r!==(r=co(t[24]))&&b(n,"d",r),64&l&&i!==(i=t[24].source.id)&&b(n,"data-attr",i),32&l&&o!==(o="translate("+t[5].x+" "+t[5].y+") scale("+t[5].k+" "+t[5].k+")")&&b(n,"transform",o),64&l&&s!==(s=h(t[24].class)+" svelte-216yrr")&&b(e,"class",s)},d(t){t&&g(e)}}}function ao(t){let e,n,o,s,l,a,u,c,f,m,_,v=t[21].title+"";function z(){return t[11](t[21])}function A(...e){return t[12](t[21],...e)}return{c(){e=w("g"),n=w("foreignObject"),o=y("div"),s=x(v),b(o,"class","title svelte-216yrr"),b(n,"requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility"),b(n,"width","300"),b(n,"height","150"),b(n,"x",l=t[21].x-2),b(n,"y",a=t[21].y-2),b(e,"class",u=h(t[1].id==t[21].id?"label selection":t[2].includes(t[21].id)?"label node-highlite":t[8].includes(t[21].id)?"label node":"label link")+" svelte-216yrr"),b(e,"transform",c="translate("+t[5].x+"\n                "+(t[5].y-5)+") scale("+t[5].k+"\n                "+t[5].k+")"),b(e,"data-attr",f=t[21].id)},m(r,l){d(r,e,l),p(e,n),p(n,o),p(o,s),m||(_=[k(e,"dblclick",(function(){i(t[9](t[21]))&&t[9](t[21]).apply(this,arguments)})),k(e,"click",z),k(e,"keydown",A)],m=!0)},p(r,i){t=r,128&i&&v!==(v=t[21].title+"")&&$(s,v),128&i&&l!==(l=t[21].x-2)&&b(n,"x",l),128&i&&a!==(a=t[21].y-2)&&b(n,"y",a),390&i&&u!==(u=h(t[1].id==t[21].id?"label selection":t[2].includes(t[21].id)?"label node-highlite":t[8].includes(t[21].id)?"label node":"label link")+" svelte-216yrr")&&b(e,"class",u),32&i&&c!==(c="translate("+t[5].x+"\n                "+(t[5].y-5)+") scale("+t[5].k+"\n                "+t[5].k+")")&&b(e,"transform",c),128&i&&f!==(f=t[21].id)&&b(e,"data-attr",f)},d(t){t&&g(e),m=!1,r(_)}}}function uo(e){let n,r,i,o,s=e[6],l=[];for(let t=0;t<s.length;t+=1)l[t]=lo(so(e,s,t));let a=e[7],u=[];for(let t=0;t<a.length;t+=1)u[t]=ao(oo(e,a,t));return{c(){n=y("div"),r=w("svg");for(let t=0;t<l.length;t+=1)l[t].c();i=v();for(let t=0;t<u.length;t+=1)u[t].c();b(r,"width",e[3]),b(r,"height",e[4]),b(n,"class","graph svelte-216yrr"),O((()=>e[14].call(n)))},m(t,s){d(t,n,s),p(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);p(r,i);for(let t=0;t<u.length;t+=1)u[t].m(r,null);e[13](r),o=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=y("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=z();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=k(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=k(n.contentWindow,"resize",e)}),p(t,n),()=>{(r||i&&n.contentWindow)&&i(),g(n)}}(n,e[14].bind(n))},p(t,[e]){if(96&e){let n;for(s=t[6],n=0;n<s.length;n+=1){const o=so(t,s,n);l[n]?l[n].p(o,e):(l[n]=lo(o),l[n].c(),l[n].m(r,i))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}if(934&e){let n;for(a=t[7],n=0;n<a.length;n+=1){const i=oo(t,a,n);u[n]?u[n].p(i,e):(u[n]=ao(i),u[n].c(),u[n].m(r,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}8&e&&b(r,"width",t[3]),16&e&&b(r,"height",t[4])},i:t,o:t,d(t){t&&g(n),m(l,t),m(u,t),e[13](null),o()}}}function co(t){const e=Math.hypot(t.target.x-t.source.x,t.target.y-t.source.y);return`M${t.source.x},${t.source.y} A${e},${e} 0 0,1 ${t.target.x},${t.target.y}`}function ho(t,e,n){let r,i,o,s;c(t,ot,(t=>n(1,r=t))),c(t,it,(t=>n(2,i=t))),c(t,nt,(t=>n(10,o=t))),c(t,rt,(t=>n(8,s=t)));let l,a,u,h,p=0,d=0,g=Wi;const m=function(){var t,e,n,r=Ji,i=to,o=io,s=no,l=ro,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,h=Er,f=re("start","zoom","end"),p=500,d=0,g=10;function m(t){t.property("__zoom",eo).on("wheel.zoom",b,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",z).filter(l).on("touchstart.zoom",A).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new Qi(e,t.x,t.y)}function w(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Qi(t.k,r,i)}function x(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n,r){t.on("start.zoom",(function(){v(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){v(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,s=v(t,o).event(r),l=i.apply(t,o),a=null==n?x(l):"function"==typeof n?n.apply(t,o):n,u=Math.max(l[1][0]-l[0][0],l[1][1]-l[0][1]),c=t.__zoom,f="function"==typeof e?e.apply(t,o):e,p=h(c.invert(a).concat(u/c.k),f.invert(a).concat(u/f.k));return function(t){if(1===t)t=f;else{var e=p(t),n=u/e[2];t=new Qi(n,a[0]-e[0]*n,a[1]-e[1]*n)}s.zoom(null,t)}}))}function v(t,e,n){return!n&&t.__zooming||new k(t,e)}function k(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function b(t,...e){if(r.apply(this,arguments)){var n=v(this,e).event(t),i=this.__zoom,l=Math.max(a[0],Math.min(a[1],i.k*Math.pow(2,s.apply(this,arguments)))),c=$n(t);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===l)return;n.mouse=[c,i.invert(c)],Gr(this),n.start()}Ki(t),n.wheel=setTimeout(h,150),n.zoom("mouse",o(w(y(i,l),n.mouse[0],n.mouse[1]),n.extent,u))}function h(){n.wheel=null,n.end()}}function $(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,s=v(this,e,!0).event(t),l=bn(t.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",p,!0),a=$n(t,i),c=t.clientX,h=t.clientY;Sn(t.view),Gi(t),s.mouse=[a,this.__zoom.invert(a)],Gr(this),s.start()}function f(t){if(Ki(t),!s.moved){var e=t.clientX-c,n=t.clientY-h;s.moved=e*e+n*n>d}s.event(t).zoom("mouse",o(w(s.that.__zoom,s.mouse[0]=$n(t,i),s.mouse[1]),s.extent,u))}function p(t){l.on("mousemove.zoom mouseup.zoom",null),En(t.view,s.moved),Ki(t),s.event(t).end()}}function z(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,s=$n(t.changedTouches?t.changedTouches[0]:t,this),l=n.invert(s),a=n.k*(t.shiftKey?.5:2),h=o(w(y(n,a),s,l),i.apply(this,e),u);Ki(t),c>0?bn(this).transition().duration(c).call(_,h,s,t):bn(this).call(m.transform,h,s,t)}}function A(n,...i){if(r.apply(this,arguments)){var o,s,l,a,u=n.touches,c=u.length,h=v(this,i,n.changedTouches.length===c).event(n);for(Gi(n),s=0;s<c;++s)a=[a=$n(l=u[s],this),this.__zoom.invert(a),l.identifier],h.touch0?h.touch1||h.touch0[2]===a[2]||(h.touch1=a,h.taps=0):(h.touch0=a,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=a[0],t=setTimeout((function(){t=null}),p)),Gr(this),h.start())}}function S(t,...e){if(this.__zooming){var n,r,i,s,l=v(this,e).event(t),a=t.changedTouches,c=a.length;for(Ki(t),n=0;n<c;++n)i=$n(r=a[n],this),l.touch0&&l.touch0[2]===r.identifier?l.touch0[0]=i:l.touch1&&l.touch1[2]===r.identifier&&(l.touch1[0]=i);if(r=l.that.__zoom,l.touch1){var h=l.touch0[0],f=l.touch0[1],p=l.touch1[0],d=l.touch1[1],g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g,m=(m=d[0]-f[0])*m+(m=d[1]-f[1])*m;r=y(r,Math.sqrt(g/m)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],s=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!l.touch0)return;i=l.touch0[0],s=l.touch0[1]}l.zoom("touch",o(w(r,i,s),l.extent,u))}}function E(t,...r){if(this.__zooming){var i,o,s=v(this,r).event(t),l=t.changedTouches,a=l.length;for(Gi(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<a;++i)o=l[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=$n(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<g)){var u=bn(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return m.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",eo),t!==i?_(t,e,n,r):i.interrupt().each((function(){v(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e,n,r){m.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},m.scaleTo=function(t,e,n,r){m.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,s=null==n?x(t):"function"==typeof n?n.apply(this,arguments):n,l=r.invert(s),a="function"==typeof e?e.apply(this,arguments):e;return o(w(y(r,a),s,l),t,u)}),n,r)},m.translateBy=function(t,e,n,r){m.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)}),null,r)},m.translateTo=function(t,e,n,r,s){m.transform(t,(function(){var t=i.apply(this,arguments),s=this.__zoom,l=null==r?x(t):"function"==typeof r?r.apply(this,arguments):r;return o(Wi.translate(l[0],l[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}),r,s)},k.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=bn(this.that).datum();f.call(t,this.that,new Fi(t,{sourceEvent:this.sourceEvent,target:m,type:t,transform:this.that.__zoom,dispatch:f}),e)}},m.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:Hi(+t),m):s},m.filter=function(t){return arguments.length?(r="function"==typeof t?t:Hi(!!t),m):r},m.touchable=function(t){return arguments.length?(l="function"==typeof t?t:Hi(!!t),m):l},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:Hi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],m):[a[0],a[1]]},m.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(t){return arguments.length?(o=t,m):o},m.duration=function(t){return arguments.length?(c=+t,m):c},m.interpolate=function(t){return arguments.length?(h=t,m):h},m.on=function(){var t=f.on.apply(f,arguments);return t===f?m:t},m.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,m):Math.sqrt(d)},m.tapDistance=function(t){return arguments.length?(g=+t,m):g},m}().scaleExtent([1/8,1]).on("zoom",(function(t){n(5,g=t.transform),_()}));var y;function w(){h=Vi(u).force("link",function(t){var e,n,r,i,o,s,l=Bi,a=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=Li(30),c=1;function h(r){for(var i=0,l=t.length;i<c;++i)for(var a,u,h,f,p,d,g,m=0;m<l;++m)u=(a=t[m]).source,f=(h=a.target).x+h.vx-u.x-u.vx||ji(s),p=h.y+h.vy-u.y-u.vy||ji(s),f*=d=((d=Math.sqrt(f*f+p*p))-n[m])/d*r*e[m],p*=d,h.vx-=f*(g=o[m]),h.vy-=p*g,u.vx+=f*(g=1-g),u.vy+=p*g}function f(){if(r){var s,a,u=r.length,c=t.length,h=new Map(r.map(((t,e)=>[l(t,e,r),t])));for(s=0,i=new Array(u);s<c;++s)(a=t[s]).index=s,"object"!=typeof a.source&&(a.source=Xi(h,a.source)),"object"!=typeof a.target&&(a.target=Xi(h,a.target)),i[a.source.index]=(i[a.source.index]||0)+1,i[a.target.index]=(i[a.target.index]||0)+1;for(s=0,o=new Array(c);s<c;++s)a=t[s],o[s]=i[a.source.index]/(i[a.source.index]+i[a.target.index]);e=new Array(c),p(),n=new Array(c),d()}}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+a(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){r=t,s=e,f()},h.links=function(e){return arguments.length?(t=e,f(),h):t},h.id=function(t){return arguments.length?(l=t,h):l},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(a="function"==typeof t?t:Li(+t),p(),h):a},h.distance=function(t){return arguments.length?(u="function"==typeof t?t:Li(+t),d(),h):u},h}(a).id((t=>t.id)).strength(.01)).force("center",function(t,e){var n,r=1;function i(){var i,o,s=n.length,l=0,a=0;for(i=0;i<s;++i)l+=(o=n[i]).x,a+=o.y;for(l=(l/s-t)*r,a=(a/s-e)*r,i=0;i<s;++i)(o=n[i]).x-=l,o.y-=a}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}(p/2,d/2)).force("collision",function(t){var e,n,r,i=1,o=1;function s(){for(var t,s,a,u,c,h,f,p=e.length,d=0;d<o;++d)for(s=qi(e,Di,Ui).visitAfter(l),t=0;t<p;++t)a=e[t],h=n[a.index],f=h*h,u=a.x+a.vx,c=a.y+a.vy,s.visit(g);function g(t,e,n,o,s){var l=t.data,p=t.r,d=h+p;if(!l)return e>u+d||o<u-d||n>c+d||s<c-d;if(l.index>a.index){var g=u-l.x-l.vx,m=c-l.y-l.vy,y=g*g+m*m;y<d*d&&(0===g&&(y+=(g=ji(r))*g),0===m&&(y+=(m=ji(r))*m),y=(d-(y=Math.sqrt(y)))/y*i,a.vx+=(g*=y)*(d=(p*=p)/(f+p)),a.vy+=(m*=y)*d,l.vx-=g*(d=1-d),l.vy-=m*d)}}}function l(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function a(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Li(null==t?1:+t)),s.initialize=function(t,n){e=t,r=n,a()},s.iterations=function(t){return arguments.length?(o=+t,s):o},s.strength=function(t){return arguments.length?(i=+t,s):i},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Li(+e),a(),s):t},s}().radius(150)).on("tick",_),function(){let t,e=new Set;const n=new IntersectionObserver(((n,r)=>{n.forEach((n=>{0!==n.boundingClientRect.y&&(t=n.boundingClientRect.y>n.rootBounds.y?"down":"up");const r=n.target.getAttribute("data-id");rt.update((t=>(t.includes(r)||t.push(r),t))),n.isIntersecting?"down"===t?e.add(r):e=new Set([r,...e]):e.delete(r)})),it.set([...e])}));document.querySelectorAll(".markdown a[data-id]").forEach((t=>n.observe(t)))}()}function x(t){if(u.length>0){const e=u.find((e=>e.id===t));if(e){const t=Wi.scale(.8).translate(p/4-e.x,d/6-e.y);bn(l).transition().duration(500).call(m.transform,t),_()}v(e)}}function _(){n(7,u=[...u]),n(6,a=[...a])}function v(t){t&&(f(ot,r=t,r),n(6,a=a.sort(((e,n)=>e.source.id===t.id||e.target.id===t.id||n.source.id===t.id||n.target.id===t.id?1:-1))),a.forEach((e=>{e.source.id===t.id||e.target.id===t.id?e.class="link-highlite":e.class="link"})),_())}N((()=>{w()})),y=()=>{h.stop()},E().$$.on_destroy.push(y);return t.$$.update=()=>{1&t.$$.dirty&&bn(l).call(m),1024&t.$$.dirty&&(n(6,a=[...o.links.map((t=>Object.assign(t,{class:"link"})))]),n(7,u=[...o.nodes.map((t=>Object.assign(t,{class:"node"})))]),w()),4&t.$$.dirty&&i.length>0&&x(i[0]),2&t.$$.dirty&&r.length>0&&x(r)},[l,r,i,p,d,g,a,u,s,v,o,t=>v(t),(t,e)=>{"Enter"!==e.key&&" "!==e.key||v(t)},function(t){T[t?"unshift":"push"]((()=>{l=t,n(0,l)}))},function(){p=this.clientWidth,d=this.clientHeight,n(3,p),n(4,d)}]}Qi.prototype;class fo extends W{constructor(t){super(),Q(this,t,ho,uo,o,{})}}function po(t,e,n){const r=t.slice();return r[4]=e[n],r}function go(t){let e,n,r,i,o=t[4].title+"";function s(...e){return t[2](t[4],...e)}return{c(){e=y("button"),n=x(o),b(e,"class","svelte-nr7emb")},m(t,o){d(t,e,o),p(e,n),r||(i=k(e,"click",s),r=!0)},p(e,r){t=e,1&r&&o!==(o=t[4].title+"")&&$(n,o)},d(t){t&&g(e),r=!1,i()}}}function mo(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=go(po(e,r,t));return{c(){n=y("header");for(let t=0;t<i.length;t+=1)i[t].c();b(n,"class","svelte-nr7emb")},m(t,e){d(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(3&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const s=po(t,r,o);i[o]?i[o].p(s,e):(i[o]=go(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&g(n),m(i,t)}}}function yo(t,e,n){let r;c(t,et,(t=>n(3,r=t)));let{MarkdownFiles:i}=e;function o(t,e){et.set(i.filter((t=>t.id===e))[0]),nt.set(st(r))}return t.$$set=t=>{"MarkdownFiles"in t&&n(0,i=t.MarkdownFiles)},[i,o,(t,e)=>o(0,t.id)]}class wo extends W{constructor(t){super(),Q(this,t,yo,mo,o,{MarkdownFiles:0})}}function xo(t,e,n){const r=t.slice();return r[3]=e[n],r}function _o(t){let e,n,r,i,o,s=t[0]["o:title"]+"",l=t[0]?.thumbnail_display_urls?.large&&vo(t),a=t[1],u=[];for(let e=0;e<a.length;e+=1)u[e]=bo(xo(t,a,e));return{c(){e=y("h3"),n=x(s),r=_(),l&&l.c(),i=_();for(let t=0;t<u.length;t+=1)u[t].c();o=v()},m(t,s){d(t,e,s),p(e,n),d(t,r,s),l&&l.m(t,s),d(t,i,s);for(let e=0;e<u.length;e+=1)u[e].m(t,s);d(t,o,s)},p(t,e){if(1&e&&s!==(s=t[0]["o:title"]+"")&&$(n,s),t[0]?.thumbnail_display_urls?.large?l?l.p(t,e):(l=vo(t),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null),2&e){let n;for(a=t[1],n=0;n<a.length;n+=1){const r=xo(t,a,n);u[n]?u[n].p(r,e):(u[n]=bo(r),u[n].c(),u[n].m(o.parentNode,o))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}},d(t){t&&g(e),t&&g(r),l&&l.d(t),t&&g(i),m(u,t),t&&g(o)}}}function vo(t){let e,n,r;return{c(){e=y("img"),u(e.src,n=t[0]?.thumbnail_display_urls?.large)||b(e,"src",n),b(e,"alt",r=t[0]["o:title"]),b(e,"class","svelte-eukov6")},m(t,n){d(t,e,n)},p(t,i){1&i&&!u(e.src,n=t[0]?.thumbnail_display_urls?.large)&&b(e,"src",n),1&i&&r!==(r=t[0]["o:title"])&&b(e,"alt",r)},d(t){t&&g(e)}}}function ko(t){let e,n,r,i,o,s,l,a=t[3].property+"",u=t[3].title+"";return{c(){e=y("h4"),n=x(a),r=x(":"),i=_(),o=y("h4"),s=y("em"),l=x(u)},m(t,a){d(t,e,a),p(e,n),p(e,r),d(t,i,a),d(t,o,a),p(o,s),p(s,l)},p(t,e){2&e&&a!==(a=t[3].property+"")&&$(n,a),2&e&&u!==(u=t[3].title+"")&&$(l,u)},d(t){t&&g(e),t&&g(i),t&&g(o)}}}function bo(t){let e,n=null!=t[3]&&ko(t);return{c(){n&&n.c(),e=v()},m(t,r){n&&n.m(t,r),d(t,e,r)},p(t,r){null!=t[3]?n?n.p(t,r):(n=ko(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&g(e)}}}function $o(e){let n,r=e[0]&&_o(e);return{c(){n=y("div"),r&&r.c(),b(n,"class","detail svelte-eukov6")},m(t,e){d(t,n,e),r&&r.m(n,null)},p(t,[e]){t[0]?r?r.p(t,e):(r=_o(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:t,o:t,d(t){t&&g(n),r&&r.d()}}}function zo(t,e,n){let r,i,o=new Map;return N((async()=>{ot.subscribe((async t=>{if(o.has(t.id))n(0,r=o.get(t.id));else if(t.id)try{const e=await fetch(t.id);n(0,r=await e.json()),o.set(t.id,r)}catch(t){console.error(t)}}))})),t.$$.update=()=>{3&t.$$.dirty&&(n(1,i=function(t){if(t){let e,n=[],r=`${G}/resources/${t["o:id"]}`,i=!1,o=function(t){for(let s in t)if(1==i&&(e=s,i=!1),"@reverse"==s&&(i=!0),"@id"===s&&t[s].startsWith(G)&&(t["o:title"]||t.display_title)){let i=t[s].split("/"),o=i[i.length-1],l=`${G}/resources/${o}`,a=t["o:title"]||t.display_title;n.push({source:r,target:l,title:a,property:t.property_label||e})}else"object"==typeof t[s]&&o(t[s])};return o(t),n}}(r)),console.log(i))},[r,i]}class Ao extends W{constructor(t){super(),Q(this,t,zo,$o,o,{})}}function So(t){let e,n,r,i,o,s,l,a,u;return e=new wo({props:{MarkdownFiles:t[0],selectedMarkdown:et}}),i=new ee({props:{MarkdownFiles:t[0]}}),s=new fo({}),a=new Ao({}),{c(){Y(e.$$.fragment),n=_(),r=y("div"),Y(i.$$.fragment),o=_(),Y(s.$$.fragment),l=_(),Y(a.$$.fragment),b(r,"class","container svelte-10yz6op")},m(t,c){V(e,t,c),d(t,n,c),d(t,r,c),V(i,r,null),p(r,o),V(s,r,null),p(r,l),V(a,r,null),u=!0},p(t,n){const r={};1&n&&(r.MarkdownFiles=t[0]),e.$set(r);const o={};1&n&&(o.MarkdownFiles=t[0]),i.$set(o)},i(t){u||(X(e.$$.fragment,t),X(i.$$.fragment,t),X(s.$$.fragment,t),X(a.$$.fragment,t),u=!0)},o(t){Z(e.$$.fragment,t),Z(i.$$.fragment,t),Z(s.$$.fragment,t),Z(a.$$.fragment,t),u=!1},d(t){H(e,t),t&&g(n),t&&g(r),H(i),H(s),H(a)}}}function Eo(e){let n;return{c(){n=y("h4"),n.textContent="Loading Essays...",b(n,"class","loading svelte-10yz6op")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}function No(t){let e,n,i,o;const s=[Eo,So],l=[];function a(t,e){return void 0===t[0]?0:1}return n=a(t),i=l[n]=s[n](t),{c(){e=y("main"),i.c()},m(t,r){d(t,e,r),l[n].m(e,null),o=!0},p(t,[o]){let u=n;n=a(t),n===u?l[n].p(t,o):(B={r:0,c:[],p:B},Z(l[u],1,1,(()=>{l[u]=null})),B.r||r(B.c),B=B.p,i=l[n],i?i.p(t,o):(i=l[n]=s[n](t),i.c()),X(i,1),i.m(e,null))},i(t){o||(X(i),o=!0)},o(t){Z(i),o=!1},d(t){t&&g(e),l[n].d()}}}function Mo(t,e,n){let r,i;return c(t,et,(t=>n(1,r=t))),N((async()=>{n(0,i=await Promise.all(K.map((async t=>{const e=t.split("-").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" "),n=`/essays/${t}.md`,r=await async function(t){const e=await fetch(t);return await e.text()}(n),i=await async function(t){const e=/\[([^\]]+)\]\(([^)]+)\)/g,n=[];let r;for(;r=e.exec(t);)if(!r[2].includes("http")){const t=r[2].includes(G)?r[2]:`${G}/resources/${r[2]}`,e=await fetch(t),i=await e.json();if(i["o:items"]){n.push({label:r[1],url:t,data:i});let e=i["o:items"]["@id"];const o=await fetch(e);(await o.json()).forEach((t=>{n.push({label:t["o:title"],url:t["@id"],data:t,set:{id:i["o:id"],title:i["o:title"]}})}))}else n.push({label:r[1],url:t,data:i})}return n}(r);return{title:e,url:n,markdown:r,items:i,id:pt()}})))),et.set(i[0]),nt.set(st(r))})),[i]}return new class extends W{constructor(t){super(),Q(this,t,Mo,No,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
