var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,a,l;function u(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function c(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function h(t){return null==t?"":t}function f(t,e,n){return t.set(n),e}function p(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function x(){return w(" ")}function _(){return w("")}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(){if(void 0===a){a=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){a=!0}}return a}class A{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=v(e.nodeName):this.e=y(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)d(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(g)}}function E(t){l=t}function T(){if(!l)throw new Error("Function called outside component initialization");return l}function S(t){T().$$.on_mount.push(t)}const M=[],N=[],I=[],C=[],R=Promise.resolve();let q=!1;function P(t){I.push(t)}const O=new Set;let j=0;function L(){if(0!==j)return;const t=l;do{try{for(;j<M.length;){const t=M[j];j++,E(t),D(t.$$)}}catch(t){throw M.length=0,j=0,t}for(E(null),M.length=0,j=0;N.length;)N.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];O.has(e)||(O.add(e),e())}I.length=0}while(M.length);for(;C.length;)C.pop()();q=!1,O.clear(),E(t)}function D(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const U=new Set;let B;function X(){B={r:0,c:[],p:B}}function Y(){B.r||r(B.c),B=B.p}function Z(t,e){t&&t.i&&(U.delete(t),t.i(e))}function V(t,e,n,r){if(t&&t.o){if(U.has(t))return;U.add(t),B.c.push((()=>{U.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function W(t,e){const n=e.token={};function r(t,r,i,o){if(e.token!==n)return;e.resolved=o;let s=e.ctx;void 0!==i&&(s=s.slice(),s[i]=o);const a=t&&(e.current=t)(s);let l=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(X(),V(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),Y())})):e.block.d(1),a.c(),Z(a,1),a.m(e.mount(),e.anchor),l=!0),e.block=a,e.blocks&&(e.blocks[r]=a),l&&L()}if(!(i=t)||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then){if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}else{const n=T();if(t.then((t=>{E(n),r(e.then,1,e.value,t),E(null)}),(t=>{if(E(n),r(e.catch,2,e.error,t),E(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}var i}function F(t){t&&t.c()}function H(t,n,o,s){const{fragment:a,after_update:l}=t.$$;a&&a.m(n,o),s||P((()=>{const n=t.$$.on_mount.map(e).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(P)}function Q(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function G(t,e){-1===t.$$.dirty[0]&&(M.push(t),q||(q=!0,R.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(e,i,o,s,a,u,c,h=[-1]){const f=l;E(e);const p=e.$$={fragment:null,ctx:[],props:u,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:i.target||f.$$.root};c&&c(p.root);let d=!1;if(p.ctx=o?o(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),d&&G(e,t)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(g)}else p.fragment&&p.fragment.c();i.intro&&Z(e.$$.fragment),H(e,i.target,i.anchor,i.customElement),L()}E(f)}class J{$destroy(){Q(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const tt="https://uclab.fh-potsdam.de/refa/api",et=["Sammlungsgeschichte-der-Lipperheideschen","The-5-senses"],nt=[];function rt(e,n=t){let r;const i=new Set;function s(t){if(o(e,t)&&(e=t,r)){const t=!nt.length;for(const t of i)t[1](),nt.push(t,e);if(t){for(let t=0;t<nt.length;t+=2)nt[t][0](nt[t+1]);nt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(o,a=t){const l=[o,a];return i.add(l),1===i.size&&(r=n(s)||t),o(e),()=>{i.delete(l),0===i.size&&(r(),r=null)}}}}const it=rt(),ot=rt([]),st=rt([]),at=rt([]),lt=rt([]);function ut(t){let e=[];for(let n=0;n<t.items.length;n++){let r=ct(t.items[n].data,t.items[n].set||null);e=[...e,...r]}return{nodes:e.reduce(((t,e)=>(t.find((t=>t.id===e.source))||t.push({id:e.source,title:e.title,img:e.img}),t.find((t=>t.id===e.target))||t.push({id:e.target,title:e.title,img:e.img}),t)),[]),links:e}}function ct(t,e){let n=[],r=`${tt}/resources/${t["o:id"]}`;e&&n.push({source:`${tt}/resources/${e.id}`,target:r,title:t["o:title"]});let i=async function(t){for(let e in t)if("@id"===e&&t[e].startsWith(tt)&&(t["o:title"]||t.display_title)){let i=t[e].split("/"),o=i[i.length-1];const s=`${tt}/resources/${o}`,a=t["o:title"]||t.display_title;n.push({source:r,target:s,title:a,property:t.property_label})}else"object"==typeof t[e]&&i(t[e])};return i(t),n}let ht;const ft=new Uint8Array(16);function pt(){if(!ht&&(ht="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ht))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ht(ft)}const dt=[];for(let t=0;t<256;++t)dt.push((t+256).toString(16).slice(1));var gt={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function mt(t,e,n){if(gt.randomUUID&&!e&&!t)return gt.randomUUID();const r=(t=t||{}).random||(t.rng||pt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return(dt[t[e+0]]+dt[t[e+1]]+dt[t[e+2]]+dt[t[e+3]]+"-"+dt[t[e+4]]+dt[t[e+5]]+"-"+dt[t[e+6]]+dt[t[e+7]]+"-"+dt[t[e+8]]+dt[t[e+9]]+"-"+dt[t[e+10]]+dt[t[e+11]]+dt[t[e+12]]+dt[t[e+13]]+dt[t[e+14]]+dt[t[e+15]]).toLowerCase()}(r)}function yt(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let vt={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const wt=/[&<>"']/,xt=new RegExp(wt.source,"g"),_t=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,bt=new RegExp(_t.source,"g"),kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$t=t=>kt[t];function zt(t,e){if(e){if(wt.test(t))return t.replace(xt,$t)}else if(_t.test(t))return t.replace(bt,$t);return t}const At=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Et(t){return t.replace(At,((t,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const Tt=/(^|[^\[])\^/g;function St(t,e){t="string"==typeof t?t:t.source,e=e||"";const n={replace:(e,r)=>(r=(r=r.source||r).replace(Tt,"$1"),t=t.replace(e,r),n),getRegex:()=>new RegExp(t,e)};return n}const Mt=/[^\w:]/g,Nt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function It(t,e,n){if(t){let t;try{t=decodeURIComponent(Et(n)).replace(Mt,"").toLowerCase()}catch(t){return null}if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}e&&!Nt.test(n)&&(n=function(t,e){Ct[" "+t]||(Rt.test(t)?Ct[" "+t]=t+"/":Ct[" "+t]=Dt(t,"/",!0));t=Ct[" "+t];const n=-1===t.indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(qt,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(Pt,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n}const Ct={},Rt=/^[^:]+:\/*[^/]*$/,qt=/^([^:]+:)[\s\S]*$/,Pt=/^([^:]+:\/*[^/]*)[\s\S]*$/;const Ot={exec:function(){}};function jt(t){let e,n,r=1;for(;r<arguments.length;r++)for(n in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Lt(t,e){const n=t.replace(/\|/g,((t,e,n)=>{let r=!1,i=e;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function Dt(t,e,n){const r=t.length;if(0===r)return"";let i=0;for(;i<r;){const o=t.charAt(r-i-1);if(o!==e||n){if(o===e||!n)break;i++}else i++}return t.slice(0,r-i)}function Ut(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Bt(t,e){if(e<1)return"";let n="";for(;e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t}function Xt(t,e,n,r){const i=e.href,o=e.title?zt(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const t={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,t}return{type:"image",raw:n,href:i,title:o,text:zt(s)}}class Yt{constructor(t){this.options=t||vt}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Dt(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],n=function(t,e){const n=t.match(/^(\s+)(?:```)/);if(null===n)return e;const r=n[1];return e.split("\n").map((t=>{const e=t.match(/^\s+/);if(null===e)return t;const[n]=e;return n.length>=r.length?t.slice(r.length):t})).join("\n")}(t,e[3]||"");return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(/#$/.test(t)){const e=Dt(t,"#");this.options.pedantic?t=e.trim():e&&!/ $/.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const t=e[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(t);return this.lexer.state.top=n,{type:"blockquote",raw:e[0],tokens:r,text:t}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n,r,i,o,s,a,l,u,c,h,f,p,d=e[1].trim();const g=d.length>1,m={type:"list",raw:"",ordered:g,start:g?+d.slice(0,-1):"",loose:!1,items:[]};d=g?`\\d{1,9}\\${d.slice(-1)}`:`\\${d}`,this.options.pedantic&&(d=g?d:"[*+-]");const y=new RegExp(`^( {0,3}${d})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;t&&(p=!1,e=y.exec(t))&&!this.rules.block.hr.test(t);){if(n=e[0],t=t.substring(n.length),u=e[2].split("\n",1)[0].replace(/^\t+/,(t=>" ".repeat(3*t.length))),c=t.split("\n",1)[0],this.options.pedantic?(o=2,f=u.trimLeft()):(o=e[2].search(/[^ ]/),o=o>4?1:o,f=u.slice(o),o+=e[1].length),a=!1,!u&&/^ *$/.test(c)&&(n+=c+"\n",t=t.substring(c.length+1),p=!0),!p){const e=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),r=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),s=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;t&&(h=t.split("\n",1)[0],c=h,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!i.test(c))&&!s.test(c)&&!e.test(c)&&!r.test(t);){if(c.search(/[^ ]/)>=o||!c.trim())f+="\n"+c.slice(o);else{if(a)break;if(u.search(/[^ ]/)>=4)break;if(i.test(u))break;if(s.test(u))break;if(r.test(u))break;f+="\n"+c}a||c.trim()||(a=!0),n+=h+"\n",t=t.substring(h.length+1),u=c.slice(o)}}m.loose||(l?m.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(f),r&&(i="[ ] "!==r[0],f=f.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:f}),m.raw+=n}m.items[m.items.length-1].raw=n.trimRight(),m.items[m.items.length-1].text=f.trimRight(),m.raw=m.raw.trimRight();const v=m.items.length;for(s=0;s<v;s++)if(this.lexer.state.top=!1,m.items[s].tokens=this.lexer.blockTokens(m.items[s].text,[]),!m.loose){const t=m.items[s].tokens.filter((t=>"space"===t.type)),e=t.length>0&&t.some((t=>/\n.*\n/.test(t.raw)));m.loose=e}if(m.loose)for(s=0;s<v;s++)m.items[s].loose=!0;return m}}html(t){const e=this.rules.block.html.exec(t);if(e){const t={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(e[0]):zt(e[0]);t.type="paragraph",t.text=n,t.tokens=this.lexer.inline(n)}return t}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(/\s+/g," "),n=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:r}}}table(t){const e=this.rules.block.table.exec(t);if(e){const t={type:"table",header:Lt(e[1]).map((t=>({text:t}))),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(t.header.length===t.align.length){t.raw=e[0];let n,r,i,o,s=t.align.length;for(n=0;n<s;n++)/^ *-+: *$/.test(t.align[n])?t.align[n]="right":/^ *:-+: *$/.test(t.align[n])?t.align[n]="center":/^ *:-+ *$/.test(t.align[n])?t.align[n]="left":t.align[n]=null;for(s=t.rows.length,n=0;n<s;n++)t.rows[n]=Lt(t.rows[n],t.header.length).map((t=>({text:t})));for(s=t.header.length,r=0;r<s;r++)t.header[r].tokens=this.lexer.inline(t.header[r].text);for(s=t.rows.length,r=0;r<s;r++)for(o=t.rows[r],i=0;i<o.length;i++)o[i].tokens=this.lexer.inline(o[i].text);return t}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:zt(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):zt(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const e=Dt(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t,e){if(-1===t.indexOf(e[1]))return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}(e[2],"()");if(t>-1){const n=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,n).trim(),e[3]=""}}let n=e[2],r="";if(this.options.pedantic){const t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);t&&(n=t[1],r=t[3])}else r=e[3]?e[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(t)?n.slice(1):n.slice(1,-1)),Xt(e,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},e[0],this.lexer)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let t=(n[2]||n[1]).replace(/\s+/g," ");if(t=e[t.toLowerCase()],!t){const t=n[0].charAt(0);return{type:"text",raw:t,text:t}}return Xt(n,t,n[0],this.lexer)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrong.lDelim.exec(t);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let i,o,s=n,a=0;const l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,e=e.slice(-1*t.length+n);null!=(r=l.exec(e));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=i.length,r[3]||r[4]){s+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){a+=o;continue}if(s-=o,s>0)continue;o=Math.min(o,o+s+a);const e=t.slice(0,n+r.index+(r[0].length-i.length)+o);if(Math.min(n,o)%2){const t=e.slice(1,-1);return{type:"em",raw:e,text:t,tokens:this.lexer.inlineTokens(t)}}const l=e.slice(2,-2);return{type:"strong",raw:e,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(/\n/g," ");const n=/[^ ]/.test(t),r=/^ /.test(t)&&/ $/.test(t);return n&&r&&(t=t.substring(1,t.length-1)),t=zt(t,!0),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t,e){const n=this.rules.inline.autolink.exec(t);if(n){let t,r;return"@"===n[2]?(t=zt(this.options.mangle?e(n[1]):n[1]),r="mailto:"+t):(t=zt(n[1]),r=t),{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(t,e){let n;if(n=this.rules.inline.url.exec(t)){let t,r;if("@"===n[2])t=zt(this.options.mangle?e(n[0]):n[0]),r="mailto:"+t;else{let e;do{e=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(e!==n[0]);t=zt(n[0]),r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t,e){const n=this.rules.inline.text.exec(t);if(n){let t;return t=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):zt(n[0]):n[0]:zt(this.options.smartypants?e(n[0]):n[0]),{type:"text",raw:n[0],text:t}}}}const Zt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ot,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Zt.def=St(Zt.def).replace("label",Zt._label).replace("title",Zt._title).getRegex(),Zt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Zt.listItemStart=St(/^( *)(bull) */).replace("bull",Zt.bullet).getRegex(),Zt.list=St(Zt.list).replace(/bull/g,Zt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Zt.def.source+")").getRegex(),Zt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Zt.html=St(Zt.html,"i").replace("comment",Zt._comment).replace("tag",Zt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Zt.paragraph=St(Zt._paragraph).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.blockquote=St(Zt.blockquote).replace("paragraph",Zt.paragraph).getRegex(),Zt.normal=jt({},Zt),Zt.gfm=jt({},Zt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Zt.gfm.table=St(Zt.gfm.table).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.gfm.paragraph=St(Zt._paragraph).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Zt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.pedantic=jt({},Zt.normal,{html:St("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Zt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ot,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:St(Zt.normal._paragraph).replace("hr",Zt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Zt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Vt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ot,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ot,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Wt(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Ft(t){let e,n,r="";const i=t.length;for(e=0;e<i;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}Vt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Vt.punctuation=St(Vt.punctuation).replace(/punctuation/g,Vt._punctuation).getRegex(),Vt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Vt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Vt._comment=St(Zt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Vt.emStrong.lDelim=St(Vt.emStrong.lDelim).replace(/punct/g,Vt._punctuation).getRegex(),Vt.emStrong.rDelimAst=St(Vt.emStrong.rDelimAst,"g").replace(/punct/g,Vt._punctuation).getRegex(),Vt.emStrong.rDelimUnd=St(Vt.emStrong.rDelimUnd,"g").replace(/punct/g,Vt._punctuation).getRegex(),Vt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Vt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Vt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Vt.autolink=St(Vt.autolink).replace("scheme",Vt._scheme).replace("email",Vt._email).getRegex(),Vt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Vt.tag=St(Vt.tag).replace("comment",Vt._comment).replace("attribute",Vt._attribute).getRegex(),Vt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Vt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Vt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Vt.link=St(Vt.link).replace("label",Vt._label).replace("href",Vt._href).replace("title",Vt._title).getRegex(),Vt.reflink=St(Vt.reflink).replace("label",Vt._label).replace("ref",Zt._label).getRegex(),Vt.nolink=St(Vt.nolink).replace("ref",Zt._label).getRegex(),Vt.reflinkSearch=St(Vt.reflinkSearch,"g").replace("reflink",Vt.reflink).replace("nolink",Vt.nolink).getRegex(),Vt.normal=jt({},Vt),Vt.pedantic=jt({},Vt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:St(/^!?\[(label)\]\((.*?)\)/).replace("label",Vt._label).getRegex(),reflink:St(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Vt._label).getRegex()}),Vt.gfm=jt({},Vt.normal,{escape:St(Vt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Vt.gfm.url=St(Vt.gfm.url,"i").replace("email",Vt.gfm._extended_email).getRegex(),Vt.breaks=jt({},Vt.gfm,{br:St(Vt.br).replace("{2,}","*").getRegex(),text:St(Vt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ht{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||vt,this.options.tokenizer=this.options.tokenizer||new Yt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:Zt.normal,inline:Vt.normal};this.options.pedantic?(e.block=Zt.pedantic,e.inline=Vt.pedantic):this.options.gfm&&(e.block=Zt.gfm,this.options.breaks?e.inline=Vt.breaks:e.inline=Vt.gfm),this.tokenizer.rules=e}static get rules(){return{block:Zt,inline:Vt}}static lex(t,e){return new Ht(e).lex(t)}static lexInline(t,e){return new Ht(e).inlineTokens(t)}lex(t){let e;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){let n,r,i,o;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,((t,e,n)=>e+"    ".repeat(n.length)));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0)))))if(n=this.tokenizer.space(t))t=t.substring(n.raw.length),1===n.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(n);else if(n=this.tokenizer.code(t))t=t.substring(n.raw.length),r=e[e.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?e.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.heading(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.hr(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.blockquote(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.list(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.html(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.def(t))t=t.substring(n.raw.length),r=e[e.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.lheading(t))t=t.substring(n.raw.length),e.push(n);else{if(i=t,this.options.extensions&&this.options.extensions.startBlock){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startBlock.forEach((function(t){r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(i=t.substring(0,e+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))r=e[e.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n),o=i.length!==t.length,t=t.substring(n.raw.length);else if(n=this.tokenizer.text(t))t=t.substring(n.raw.length),r=e[e.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n,r,i,o,s,a,l=t;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)t.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+Bt("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+Bt("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,o.index+o[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0)))))if(n=this.tokenizer.escape(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.tag(t))t=t.substring(n.raw.length),r=e[e.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n);else if(n=this.tokenizer.link(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(n.raw.length),r=e[e.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n);else if(n=this.tokenizer.emStrong(t,l,a))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.codespan(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.br(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.del(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.autolink(t,Ft))t=t.substring(n.raw.length),e.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(t,Ft))){if(i=t,this.options.extensions&&this.options.extensions.startInline){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startInline.forEach((function(t){r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(i=t.substring(0,e+1))}if(n=this.tokenizer.inlineText(i,Wt))t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),s=!0,r=e[e.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):e.push(n);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}else t=t.substring(n.raw.length),e.push(n);return e}}class Qt{constructor(t){this.options=t||vt}code(t,e,n){const r=(e||"").match(/\S*/)[0];if(this.options.highlight){const e=this.options.highlight(t,r);null!=e&&e!==t&&(n=!0,t=e)}return t=t.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+zt(r)+'">'+(n?t:zt(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:zt(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t){return t}heading(t,e,n,r){if(this.options.headerIds){return`<h${e} id="${this.options.headerPrefix+r.slug(n)}">${t}</h${e}>\n`}return`<h${e}>${t}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(t,e,n){const r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"}listitem(t){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>\n`}table(t,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,e){const n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,e,n){if(null===(t=It(this.options.sanitize,this.options.baseUrl,t)))return n;let r='<a href="'+t+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>",r}image(t,e,n){if(null===(t=It(this.options.sanitize,this.options.baseUrl,t)))return n;let r=`<img src="${t}" alt="${n}"`;return e&&(r+=` title="${e}"`),r+=this.options.xhtml?"/>":">",r}text(t){return t}}class Gt{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,n){return""+n}image(t,e,n){return""+n}br(){return""}}class Kt{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let n=t,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[t];do{r++,n=t+"-"+r}while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=r,this.seen[n]=0),n}slug(t,e={}){const n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)}}class Jt{constructor(t){this.options=t||vt,this.options.renderer=this.options.renderer||new Qt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Gt,this.slugger=new Kt}static parse(t,e){return new Jt(e).parse(t)}static parseInline(t,e){return new Jt(e).parseInline(t)}parse(t,e=!0){let n,r,i,o,s,a,l,u,c,h,f,p,d,g,m,y,v,w,x,_="";const b=t.length;for(n=0;n<b;n++)if(h=t[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(x=this.options.extensions.renderers[h.type].call({parser:this},h),!1!==x||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)))_+=x||"";else switch(h.type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(h.tokens),h.depth,Et(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(u="",l="",o=h.header.length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(h.header[r].tokens),{header:!0,align:h.align[r]});for(u+=this.renderer.tablerow(l),c="",o=h.rows.length,r=0;r<o;r++){for(a=h.rows[r],l="",s=a.length,i=0;i<s;i++)l+=this.renderer.tablecell(this.parseInline(a[i].tokens),{header:!1,align:h.align[i]});c+=this.renderer.tablerow(l)}_+=this.renderer.table(u,c);continue;case"blockquote":c=this.parse(h.tokens),_+=this.renderer.blockquote(c);continue;case"list":for(f=h.ordered,p=h.start,d=h.loose,o=h.items.length,c="",r=0;r<o;r++)m=h.items[r],y=m.checked,v=m.task,g="",m.task&&(w=this.renderer.checkbox(y),d?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=w+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=w+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:w}):g+=w),g+=this.parse(m.tokens,d),c+=this.renderer.listitem(g,v,y);_+=this.renderer.list(c,f,p);continue;case"html":_+=this.renderer.html(h.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(c=h.tokens?this.parseInline(h.tokens):h.text;n+1<b&&"text"===t[n+1].type;)h=t[++n],c+="\n"+(h.tokens?this.parseInline(h.tokens):h.text);_+=e?this.renderer.paragraph(c):c;continue;default:{const t='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(t);throw new Error(t)}}return _}parseInline(t,e){e=e||this.renderer;let n,r,i,o="";const s=t.length;for(n=0;n<s;n++)if(r=t[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(i=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))o+=i||"";else switch(r.type){case"escape":case"text":o+=e.text(r.text);break;case"html":o+=e.html(r.text);break;case"link":o+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break;case"image":o+=e.image(r.href,r.title,r.text);break;case"strong":o+=e.strong(this.parseInline(r.tokens,e));break;case"em":o+=e.em(this.parseInline(r.tokens,e));break;case"codespan":o+=e.codespan(r.text);break;case"br":o+=e.br();break;case"del":o+=e.del(this.parseInline(r.tokens,e));break;default:{const t='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(t);throw new Error(t)}}return o}}function te(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(n=e,e=null),Ut(e=jt({},te.defaults,e||{})),n){const r=e.highlight;let i;try{i=Ht.lex(t,e)}catch(t){return n(t)}const o=function(t){let o;if(!t)try{e.walkTokens&&te.walkTokens(i,e.walkTokens),o=Jt.parse(i,e)}catch(e){t=e}return e.highlight=r,t?n(t):n(null,o)};if(!r||r.length<3)return o();if(delete e.highlight,!i.length)return o();let s=0;return te.walkTokens(i,(function(t){"code"===t.type&&(s++,setTimeout((()=>{r(t.text,t.lang,(function(e,n){if(e)return o(e);null!=n&&n!==t.text&&(t.text=n,t.escaped=!0),s--,0===s&&o()}))}),0))})),void(0===s&&o())}function r(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+zt(t.message+"",!0)+"</pre>";throw t}try{const n=Ht.lex(t,e);if(e.walkTokens){if(e.async)return Promise.all(te.walkTokens(n,e.walkTokens)).then((()=>Jt.parse(n,e))).catch(r);te.walkTokens(n,e.walkTokens)}return Jt.parse(n,e)}catch(t){r(t)}}function ee(e){let n,i,o,s,a,l;return{c(){n=y("div"),i=new A(!1),o=x(),s=y("div"),i.a=o,k(s,"class","biblio"),k(n,"class","markdown svelte-1iw1h9x")},m(t,r){d(t,n,r),i.m(e[2],n),p(n,o),p(n,s),s.innerHTML=e[1],e[7](n),a||(l=[b(n,"click",e[3]),b(n,"keydown",e[8])],a=!0)},p(t,[e]){4&e&&i.p(t[2]),2&e&&(s.innerHTML=t[1])},i:t,o:t,d(t){t&&g(n),e[7](null),a=!1,r(l)}}}te.options=te.setOptions=function(t){var e;return jt(te.defaults,t),e=te.defaults,vt=e,te},te.getDefaults=yt,te.defaults=vt,te.use=function(...t){const e=te.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((t=>{const n=jt({},t);if(n.async=te.defaults.async||n.async,t.extensions&&(t.extensions.forEach((t=>{if(!t.name)throw new Error("extension name required");if(t.renderer){const n=e.renderers[t.name];e.renderers[t.name]=n?function(...e){let r=t.renderer.apply(this,e);return!1===r&&(r=n.apply(this,e)),r}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");e[t.level]?e[t.level].unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),n.extensions=e),t.renderer){const e=te.defaults.renderer||new Qt;for(const n in t.renderer){const r=e[n];e[n]=(...i)=>{let o=t.renderer[n].apply(e,i);return!1===o&&(o=r.apply(e,i)),o}}n.renderer=e}if(t.tokenizer){const e=te.defaults.tokenizer||new Yt;for(const n in t.tokenizer){const r=e[n];e[n]=(...i)=>{let o=t.tokenizer[n].apply(e,i);return!1===o&&(o=r.apply(e,i)),o}}n.tokenizer=e}if(t.walkTokens){const e=te.defaults.walkTokens;n.walkTokens=function(n){let r=[];return r.push(t.walkTokens.call(this,n)),e&&(r=r.concat(e.call(this,n))),r}}te.setOptions(n)}))},te.walkTokens=function(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(te,r)),r.type){case"table":for(const t of r.header)n=n.concat(te.walkTokens(t.tokens,e));for(const t of r.rows)for(const r of t)n=n.concat(te.walkTokens(r.tokens,e));break;case"list":n=n.concat(te.walkTokens(r.items,e));break;default:te.defaults.extensions&&te.defaults.extensions.childTokens&&te.defaults.extensions.childTokens[r.type]?te.defaults.extensions.childTokens[r.type].forEach((function(t){n=n.concat(te.walkTokens(r[t],e))})):r.tokens&&(n=n.concat(te.walkTokens(r.tokens,e)))}return n},te.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");Ut(e=jt({},te.defaults,e||{}));try{const n=Ht.lexInline(t,e);return e.walkTokens&&te.walkTokens(n,e.walkTokens),Jt.parseInline(n,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+zt(t.message+"",!0)+"</pre>";throw t}},te.Parser=Jt,te.parser=Jt.parse,te.Renderer=Qt,te.TextRenderer=Gt,te.Lexer=Ht,te.lexer=Ht.lex,te.Tokenizer=Yt,te.Slugger=Kt,te.parse=te,te.options,te.setOptions,te.use,te.walkTokens,te.parseInline,Jt.parse,Ht.lex;const ne=/\[\^([^\]]+)\]/g;function re(t,e,n){let r,i,o,s;c(t,lt,(t=>n(5,i=t))),c(t,it,(t=>n(6,o=t)));const a=new te.Renderer;a.link=(t,e,n)=>{if(t.includes("http"))return`<a class="external" target="_blank" href="${t}" title="${n}">${n}</a>`;{let e=function(t){let e=o.items.filter((e=>e.url==t));if(e&&e.length>0){let t=e?.[0].data?.thumbnail_display_urls?.medium;return t}}(`${tt}/resources/${t}`);return e?`<a class="node-highlite" data-id="${tt}/resources/${t}" title="${n}">${n}(${t})</a><img src="${e}" alt="${n}"></img>`:`<a class="node-highlite" data-id="${tt}/resources/${t}" title="${n}">${n}(${t})</a>`}};let l=1,u={};a.text=t=>{let e=t;return e=e.replace(ne,((t,e)=>{let n=u[e];return n||(n={id:l,text:e},u[e]=n,l++),`<sup class="footnote-reference" id="footnote-reference-${n.id}"><a href="#footnote-${n.id}">${n.id}</a></sup>`})),e};let h;new Promise((t=>{t(te(o.markdown,{renderer:a}))})).then((t=>{const e=Object.values(u).map((t=>`<li id="footnote-${t.id}">${t.text} <a href="#footnote-reference-${t.id}">&#8617;</a></li>`)).join("");n(1,h=`<ol class="footnotes">${e}</ol>`)}));return t.$$.update=()=>{if(80&t.$$.dirty&&n(2,r=te(o.markdown,{renderer:a})),32&t.$$.dirty&&null!=i){document.querySelectorAll("a[data-id]").forEach((t=>{t.classList.remove("selection")}));let t=document.querySelector(`a[data-id="${i.id}"]`);t&&t.classList.add("selection")}},[s,h,r,function(t){"A"===t.target.tagName&&t.target.getAttribute("data-id")&&(f(lt,i=t.target.getAttribute("data-id"),i),t.target.classList.toggle("selected"))},a,i,o,function(t){N[t?"unshift":"push"]((()=>{s=t,n(0,s)}))},t=>{"Enter"===t.key||t.key}]}class ie extends J{constructor(t){super(),K(this,t,re,ee,o,{})}}var oe={value:()=>{}};function se(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ae(r)}function ae(t){this._=t}function le(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ue(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ce(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=oe,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ae.prototype=se.prototype={constructor:ae,on:function(t,e){var n,r=this._,i=le(t+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=i[o]).type)r[n]=ce(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ce(r[n],t.name,null);return this}for(;++o<s;)if((n=(t=i[o]).type)&&(n=ue(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ae(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var he="http://www.w3.org/1999/xhtml",fe={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pe(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),fe.hasOwnProperty(e)?{space:fe[e],local:t}:t}function de(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===he&&e.documentElement.namespaceURI===he?e.createElement(t):e.createElementNS(n,t)}}function ge(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function me(t){var e=pe(t);return(e.local?ge:de)(e)}function ye(){}function ve(t){return null==t?ye:function(){return this.querySelector(t)}}function we(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function xe(){return[]}function _e(t){return null==t?xe:function(){return this.querySelectorAll(t)}}function be(t){return function(){return this.matches(t)}}function ke(t){return function(e){return e.matches(t)}}var $e=Array.prototype.find;function ze(){return this.firstElementChild}var Ae=Array.prototype.filter;function Ee(){return Array.from(this.children)}function Te(t){return new Array(t.length)}function Se(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Me(t){return function(){return t}}function Ne(t,e,n,r,i,o){for(var s,a=0,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Se(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function Ie(t,e,n,r,i,o,s){var a,l,u,c=new Map,h=e.length,f=o.length,p=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(p[a]=u=s.call(l,l.__data__,a,e)+"",c.has(u)?i[a]=l:c.set(u,l));for(a=0;a<f;++a)u=s.call(t,o[a],a,o)+"",(l=c.get(u))?(r[a]=l,l.__data__=o[a],c.delete(u)):n[a]=new Se(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&c.get(p[a])===l&&(i[a]=l)}function Ce(t){return t.__data__}function Re(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function qe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pe(t){return function(){this.removeAttribute(t)}}function Oe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function je(t,e){return function(){this.setAttribute(t,e)}}function Le(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function De(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Ue(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Be(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Xe(t){return function(){this.style.removeProperty(t)}}function Ye(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ze(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ve(t,e){return t.style.getPropertyValue(e)||Be(t).getComputedStyle(t,null).getPropertyValue(e)}function We(t){return function(){delete this[t]}}function Fe(t,e){return function(){this[t]=e}}function He(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Qe(t){return t.trim().split(/^|\s+/)}function Ge(t){return t.classList||new Ke(t)}function Ke(t){this._node=t,this._names=Qe(t.getAttribute("class")||"")}function Je(t,e){for(var n=Ge(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function tn(t,e){for(var n=Ge(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function en(t){return function(){Je(this,t)}}function nn(t){return function(){tn(this,t)}}function rn(t,e){return function(){(e.apply(this,arguments)?Je:tn)(this,t)}}function on(){this.textContent=""}function sn(t){return function(){this.textContent=t}}function an(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ln(){this.innerHTML=""}function un(t){return function(){this.innerHTML=t}}function cn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function hn(){this.nextSibling&&this.parentNode.appendChild(this)}function fn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pn(){return null}function dn(){var t=this.parentNode;t&&t.removeChild(this)}function gn(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function mn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yn(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function vn(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function wn(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function xn(t,e,n){var r=Be(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function _n(t,e){return function(){return xn(this,t,e)}}function bn(t,e){return function(){return xn(this,t,e.apply(this,arguments))}}Se.prototype={constructor:Se,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Ke.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var kn=[null];function $n(t,e){this._groups=t,this._parents=e}function zn(){return new $n([[document.documentElement]],kn)}function An(t){return"string"==typeof t?new $n([[document.querySelector(t)]],[document.documentElement]):new $n([[t]],kn)}function En(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}$n.prototype=zn.prototype={constructor:$n,select:function(t){"function"!=typeof t&&(t=ve(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],l=a.length,u=r[i]=new Array(l),c=0;c<l;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),u[c]=s);return new $n(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return we(t.apply(this,arguments))}}(t):_e(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,a=e[o],l=a.length,u=0;u<l;++u)(s=a[u])&&(r.push(t.call(s,s.__data__,u,a)),i.push(s));return new $n(r,i)},selectChild:function(t){return this.select(null==t?ze:function(t){return function(){return $e.call(this.children,t)}}("function"==typeof t?t:ke(t)))},selectChildren:function(t){return this.selectAll(null==t?Ee:function(t){return function(){return Ae.call(this.children,t)}}("function"==typeof t?t:ke(t)))},filter:function(t){"function"!=typeof t&&(t=be(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,l=r[i]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&l.push(o);return new $n(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Ce);var n=e?Ie:Ne,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Me(t));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,p=Re(t.call(c,c&&c.__data__,u,r)),d=p.length,g=a[u]=new Array(d),m=s[u]=new Array(d),y=l[u]=new Array(f);n(c,h,g,m,y,p,e);for(var v,w,x=0,_=0;x<d;++x)if(v=g[x]){for(x>=_&&(_=x+1);!(w=m[_])&&++_<d;);v._next=w||null}}return(s=new $n(s,r))._enter=a,s._exit=l,s},enter:function(){return new $n(this._enter||this._groups.map(Te),this._parents)},exit:function(){return new $n(this._exit||this._groups.map(Te),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u,c=n[l],h=r[l],f=c.length,p=a[l]=new Array(f),d=0;d<f;++d)(u=c[d]||h[d])&&(p[d]=u);for(;l<i;++l)a[l]=n[l];return new $n(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=qe);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],l=a.length,u=i[o]=new Array(l),c=0;c<l;++c)(s=a[c])&&(u[c]=s);u.sort(e)}return new $n(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=pe(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Oe:Pe:"function"==typeof e?n.local?Ue:De:n.local?Le:je)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Xe:"function"==typeof e?Ze:Ye)(t,e,null==n?"":n)):Ve(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?We:"function"==typeof e?He:Fe)(t,e)):this.node()[t]},classed:function(t,e){var n=Qe(t+"");if(arguments.length<2){for(var r=Ge(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?rn:e?en:nn)(n,e))},text:function(t){return arguments.length?this.each(null==t?on:("function"==typeof t?an:sn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ln:("function"==typeof t?cn:un)(t)):this.node().innerHTML},raise:function(){return this.each(hn)},lower:function(){return this.each(fn)},append:function(t){var e="function"==typeof t?t:me(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:me(t),r=null==e?pn:"function"==typeof e?e:ve(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(dn)},clone:function(t){return this.select(t?mn:gn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=yn(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?wn:vn,r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var l,u=0,c=a.length;u<c;++u)for(r=0,l=a[u];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?bn:_n)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const Tn={passive:!1},Sn={capture:!0,passive:!1};function Mn(t){t.stopImmediatePropagation()}function Nn(t){t.preventDefault(),t.stopImmediatePropagation()}function In(t){var e=t.document.documentElement,n=An(t).on("dragstart.drag",Nn,Sn);"onselectstart"in e?n.on("selectstart.drag",Nn,Sn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Cn(t,e){var n=t.document.documentElement,r=An(t).on("dragstart.drag",null);e&&(r.on("click.drag",Nn,Sn),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Rn=t=>()=>t;function qn(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}function Pn(t){return!t.ctrlKey&&!t.button}function On(){return this.parentNode}function jn(t,e){return null==e?{x:t.x,y:t.y}:e}function Ln(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dn(){var t,e,n,r,i=Pn,o=On,s=jn,a=Ln,l={},u=se("start","drag","end"),c=0,h=0;function f(t){t.on("mousedown.drag",p).filter(a).on("touchstart.drag",m).on("touchmove.drag",y,Tn).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(s,a){if(!r&&i.call(this,s,a)){var l=w(this,o.call(this,s,a),s,a,"mouse");l&&(An(s.view).on("mousemove.drag",d,Sn).on("mouseup.drag",g,Sn),In(s.view),Mn(s),n=!1,t=s.clientX,e=s.clientY,l("start",s))}}function d(r){if(Nn(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>h}l.mouse("drag",r)}function g(t){An(t.view).on("mousemove.drag mouseup.drag",null),Cn(t.view,n),Nn(t),l.mouse("end",t)}function m(t,e){if(i.call(this,t,e)){var n,r,s=t.changedTouches,a=o.call(this,t,e),l=s.length;for(n=0;n<l;++n)(r=w(this,a,t,e,s[n].identifier,s[n]))&&(Mn(t),r("start",t,s[n]))}}function y(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=l[r[e].identifier])&&(Nn(t),n("drag",t,r[e]))}function v(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=l[i[e].identifier])&&(Mn(t),n("end",t,i[e]))}function w(t,e,n,r,i,o){var a,h,p,d=u.copy(),g=En(o||n,e);if(null!=(p=s.call(t,new qn("beforestart",{sourceEvent:n,target:f,identifier:i,active:c,x:g[0],y:g[1],dx:0,dy:0,dispatch:d}),r)))return a=p.x-g[0]||0,h=p.y-g[1]||0,function n(o,s,u){var m,y=g;switch(o){case"start":l[i]=n,m=c++;break;case"end":delete l[i],--c;case"drag":g=En(u||s,e),m=c}d.call(o,t,new qn(o,{sourceEvent:s,subject:p,target:f,identifier:i,active:m,x:g[0]+a,y:g[1]+h,dx:g[0]-y[0],dy:g[1]-y[1],dispatch:d}),r)}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:Rn(!!t),f):i},f.container=function(t){return arguments.length?(o="function"==typeof t?t:Rn(t),f):o},f.subject=function(t){return arguments.length?(s="function"==typeof t?t:Rn(t),f):s},f.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Rn(!!t),f):a},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}function Un(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Bn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xn(){}qn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Yn=.7,Zn=1/Yn,Vn="\\s*([+-]?\\d+)\\s*",Wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hn=/^#([0-9a-f]{3,8})$/,Qn=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),Gn=new RegExp(`^rgb\\(${Fn},${Fn},${Fn}\\)$`),Kn=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${Wn}\\)$`),Jn=new RegExp(`^rgba\\(${Fn},${Fn},${Fn},${Wn}\\)$`),tr=new RegExp(`^hsl\\(${Wn},${Fn},${Fn}\\)$`),er=new RegExp(`^hsla\\(${Wn},${Fn},${Fn},${Wn}\\)$`),nr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rr(){return this.rgb().formatHex()}function ir(){return this.rgb().formatRgb()}function or(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?sr(e):3===n?new cr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ar(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ar(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Qn.exec(t))?new cr(e[1],e[2],e[3],1):(e=Gn.exec(t))?new cr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Kn.exec(t))?ar(e[1],e[2],e[3],e[4]):(e=Jn.exec(t))?ar(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=tr.exec(t))?mr(e[1],e[2]/100,e[3]/100,1):(e=er.exec(t))?mr(e[1],e[2]/100,e[3]/100,e[4]):nr.hasOwnProperty(t)?sr(nr[t]):"transparent"===t?new cr(NaN,NaN,NaN,0):null}function sr(t){return new cr(t>>16&255,t>>8&255,255&t,1)}function ar(t,e,n,r){return r<=0&&(t=e=n=NaN),new cr(t,e,n,r)}function lr(t){return t instanceof Xn||(t=or(t)),t?new cr((t=t.rgb()).r,t.g,t.b,t.opacity):new cr}function ur(t,e,n,r){return 1===arguments.length?lr(t):new cr(t,e,n,null==r?1:r)}function cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function hr(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}`}function fr(){const t=pr(this.opacity);return`${1===t?"rgb(":"rgba("}${dr(this.r)}, ${dr(this.g)}, ${dr(this.b)}${1===t?")":`, ${t})`}`}function pr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function dr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gr(t){return((t=dr(t))<16?"0":"")+t.toString(16)}function mr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vr(t,e,n,r)}function yr(t){if(t instanceof vr)return new vr(t.h,t.s,t.l,t.opacity);if(t instanceof Xn||(t=or(t)),!t)return new vr;if(t instanceof vr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new vr(s,a,l,t.opacity)}function vr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function wr(t){return(t=(t||0)%360)<0?t+360:t}function xr(t){return Math.max(0,Math.min(1,t||0))}function _r(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Un(Xn,or,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rr,formatHex:rr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return yr(this).formatHsl()},formatRgb:ir,toString:ir}),Un(cr,ur,Bn(Xn,{brighter(t){return t=null==t?Zn:Math.pow(Zn,t),new cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Yn:Math.pow(Yn,t),new cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new cr(dr(this.r),dr(this.g),dr(this.b),pr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hr,formatHex:hr,formatHex8:function(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}${gr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:fr,toString:fr})),Un(vr,(function(t,e,n,r){return 1===arguments.length?yr(t):new vr(t,e,n,null==r?1:r)}),Bn(Xn,{brighter(t){return t=null==t?Zn:Math.pow(Zn,t),new vr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Yn:Math.pow(Yn,t),new vr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new cr(_r(t>=240?t-240:t+120,i,r),_r(t,i,r),_r(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vr(wr(this.h),xr(this.s),xr(this.l),pr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pr(this.opacity);return`${1===t?"hsl(":"hsla("}${wr(this.h)}, ${100*xr(this.s)}%, ${100*xr(this.l)}%${1===t?")":`, ${t})`}`}}));var br=t=>()=>t;function kr(t){return 1==(t=+t)?$r:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):br(isNaN(e)?n:e)}}function $r(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):br(isNaN(t)?e:t)}var zr=function t(e){var n=kr(e);function r(t,e){var r=n((t=ur(t)).r,(e=ur(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=$r(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function Ar(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Er=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tr=new RegExp(Er.source,"g");function Sr(t,e){var n,r,i,o=Er.lastIndex=Tr.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=Er.exec(t))&&(r=Tr.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Ar(n,r)})),o=Tr.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})}var Mr,Nr=180/Math.PI,Ir={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cr(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Nr,skewX:Math.atan(l)*Nr,scaleX:s,scaleY:a}}function Rr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],l=[];return o=t(o),s=t(s),function(t,r,i,o,s,a){if(t!==i||r!==o){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:Ar(t,i)},{i:l-2,x:Ar(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ar(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,s.rotate,a,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ar(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,s.skewX,a,l),function(t,e,n,r,o,s){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Ar(t,n)},{i:a-2,x:Ar(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(t){for(var e,n=-1,r=l.length;++n<r;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var qr=Rr((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ir:Cr(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Pr=Rr((function(t){return null==t?Ir:(Mr||(Mr=document.createElementNS("http://www.w3.org/2000/svg","g")),Mr.setAttribute("transform",t),(t=Mr.transform.baseVal.consolidate())?Cr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ir)}),", ",")",")");function Or(t){return((t=Math.exp(t))+1/t)/2}var jr,Lr,Dr=function t(e,n,r){function i(t,i){var o,s,a=t[0],l=t[1],u=t[2],c=i[0],h=i[1],f=i[2],p=c-a,d=h-l,g=p*p+d*d;if(g<1e-12)s=Math.log(f/u)/e,o=function(t){return[a+t*p,l+t*d,u*Math.exp(e*t*s)]};else{var m=Math.sqrt(g),y=(f*f-u*u+r*g)/(2*u*n*m),v=(f*f-u*u-r*g)/(2*f*n*m),w=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(v*v+1)-v);s=(x-w)/e,o=function(t){var r=t*s,i=Or(w),o=u/(n*m)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+w)-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[a+o*p,l+o*d,u*i/Or(e*r+w)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4),Ur=0,Br=0,Xr=0,Yr=0,Zr=0,Vr=0,Wr="object"==typeof performance&&performance.now?performance:Date,Fr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Hr(){return Zr||(Fr(Qr),Zr=Wr.now()+Vr)}function Qr(){Zr=0}function Gr(){this._call=this._time=this._next=null}function Kr(t,e,n){var r=new Gr;return r.restart(t,e,n),r}function Jr(){Zr=(Yr=Wr.now())+Vr,Ur=Br=0;try{!function(){Hr(),++Ur;for(var t,e=jr;e;)(t=Zr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ur}()}finally{Ur=0,function(){var t,e,n=jr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:jr=e);Lr=t,ei(r)}(),Zr=0}}function ti(){var t=Wr.now(),e=t-Yr;e>1e3&&(Vr-=e,Yr=t)}function ei(t){Ur||(Br&&(Br=clearTimeout(Br)),t-Zr>24?(t<1/0&&(Br=setTimeout(Jr,t-Wr.now()-Vr)),Xr&&(Xr=clearInterval(Xr))):(Xr||(Yr=Wr.now(),Xr=setInterval(ti,1e3)),Ur=1,Fr(Jr)))}function ni(t,e,n){var r=new Gr;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Gr.prototype=Kr.prototype={constructor:Gr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Hr():+n)+(null==e?0:+e),this._next||Lr===this||(Lr?Lr._next=this:jr=this,Lr=this),this._call=t,this._time=n,ei()},stop:function(){this._call&&(this._call=null,this._time=1/0,ei())}};var ri=se("start","end","cancel","interrupt"),ii=[];function oi(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}function s(o){var u,c,h,f;if(1!==n.state)return l();for(u in i)if((f=i[u]).name===n.name){if(3===f.state)return ni(s);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[u]):+u<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[u])}if(ni((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,s=r.length;++o<s;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Kr(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:ri,tween:ii,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function si(t,e){var n=li(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ai(t,e){var n=li(t,e);if(n.state>3)throw new Error("too late; already running");return n}function li(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ui(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}}function ci(t,e){var n,r;return function(){var i=ai(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function hi(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=ai(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function fi(t,e,n){var r=t._id;return t.each((function(){var t=ai(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return li(t,r).value[e]}}function pi(t,e){var n;return("number"==typeof e?Ar:e instanceof or?zr:(n=or(e))?(e=n,zr):Sr)(t,e)}function di(t){return function(){this.removeAttribute(t)}}function gi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mi(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}}function yi(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}function vi(t,e,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,l));this.removeAttribute(t)}}function wi(t,e,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,l));this.removeAttributeNS(t.space,t.local)}}function xi(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function _i(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function bi(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&_i(t,i)),n}return i._value=e,i}function ki(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&xi(t,i)),n}return i._value=e,i}function $i(t,e){return function(){si(this,t).delay=+e.apply(this,arguments)}}function zi(t,e){return e=+e,function(){si(this,t).delay=e}}function Ai(t,e){return function(){ai(this,t).duration=+e.apply(this,arguments)}}function Ei(t,e){return e=+e,function(){ai(this,t).duration=e}}function Ti(t,e){if("function"!=typeof e)throw new Error;return function(){ai(this,t).ease=e}}function Si(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?si:ai;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}var Mi=zn.prototype.constructor;function Ni(t){return function(){this.style.removeProperty(t)}}function Ii(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ci(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Ii(t,o,n)),r}return o._value=e,o}function Ri(t){return function(e){this.textContent=t.call(this,e)}}function qi(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Ri(r)),e}return r._value=t,r}var Pi=0;function Oi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ji(){return++Pi}var Li=zn.prototype;Oi.prototype={constructor:Oi,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ve(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,l,u=r[s],c=u.length,h=o[s]=new Array(c),f=0;f<c;++f)(a=u[f])&&(l=t.call(a,a.__data__,f,u))&&("__data__"in a&&(l.__data__=a.__data__),h[f]=l,oi(h[f],e,n,f,h,li(a,n)));return new Oi(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=_e(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,u=r[a],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var f,p=t.call(l,l.__data__,h,u),d=li(l,n),g=0,m=p.length;g<m;++g)(f=p[g])&&oi(f,e,n,g,p,d);o.push(p),s.push(l)}return new Oi(o,s,e,n)},selectChild:Li.selectChild,selectChildren:Li.selectChildren,filter:function(t){"function"!=typeof t&&(t=be(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,l=r[i]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&l.push(o);return new Oi(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l,u=e[a],c=n[a],h=u.length,f=s[a]=new Array(h),p=0;p<h;++p)(l=u[p]||c[p])&&(f[p]=l);for(;a<r;++a)s[a]=e[a];return new Oi(s,this._parents,this._name,this._id)},selection:function(){return new Mi(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ji(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,u=0;u<l;++u)if(s=a[u]){var c=li(s,e);oi(s,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Oi(r,this._parents,t,n)},call:Li.call,nodes:Li.nodes,node:Li.node,size:Li.size,empty:Li.empty,each:Li.each,on:function(t,e){var n=this._id;return arguments.length<2?li(this.node(),n).on.on(t):this.each(Si(n,t,e))},attr:function(t,e){var n=pe(t),r="transform"===n?Pr:pi;return this.attrTween(t,"function"==typeof e?(n.local?wi:vi)(n,r,fi(this,"attr."+t,e)):null==e?(n.local?gi:di)(n):(n.local?yi:mi)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=pe(t);return this.tween(n,(r.local?bi:ki)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?qr:pi;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Ve(this,t),s=(this.style.removeProperty(t),Ve(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,Ni(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=Ve(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=Ve(this,t)),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}(t,r,fi(this,"style."+t,e))).each(function(t,e){var n,r,i,o,s="style."+e,a="end."+s;return function(){var l=ai(this,t),u=l.on,c=null==l.value[s]?o||(o=Ni(e)):void 0;u===n&&i===c||(r=(n=u).copy()).on(a,i=c),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var s=Ve(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Ci(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(fi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,qi(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=li(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?ci:hi)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?$i:zi)(e,t)):li(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ai:Ei)(e,t)):li(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ti(e,t)):li(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;ai(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--i&&o()}};n.each((function(){var n=ai(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Li[Symbol.iterator]};var Di={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ui(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}zn.prototype.interrupt=function(t){return this.each((function(){ui(this,t)}))},zn.prototype.transition=function(t){var e,n;t instanceof Oi?(e=t._id,t=t._name):(e=ji(),(n=Di).time=Hr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,u=0;u<l;++u)(s=a[u])&&oi(s,t,e,u,a,n||Ui(s,e));return new Oi(r,this._parents,t,e)};var Bi=t=>()=>t;function Xi(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Yi(t,e,n){this.k=t,this.x=e,this.y=n}Yi.prototype={constructor:Yi,scale:function(t){return 1===t?this:new Yi(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Yi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zi=new Yi(1,0,0);function Vi(t){t.stopImmediatePropagation()}function Wi(t){t.preventDefault(),t.stopImmediatePropagation()}function Fi(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Hi(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Qi(){return this.__zoom||Zi}function Gi(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ki(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ji(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function to(){var t,e,n,r=Fi,i=Hi,o=Ji,s=Gi,a=Ki,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,h=Dr,f=se("start","zoom","end"),p=500,d=0,g=10;function m(t){t.property("__zoom",Qi).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",z).filter(a).on("touchstart.zoom",A).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new Yi(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Yi(t.k,r,i)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,r){t.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,s=_(t,o).event(r),a=i.apply(t,o),l=null==n?w(a):"function"==typeof n?n.apply(t,o):n,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,f="function"==typeof e?e.apply(t,o):e,p=h(c.invert(l).concat(u/c.k),f.invert(l).concat(u/f.k));return function(t){if(1===t)t=f;else{var e=p(t),n=u/e[2];t=new Yi(n,l[0]-e[0]*n,l[1]-e[1]*n)}s.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function k(t,...e){if(r.apply(this,arguments)){var n=_(this,e).event(t),i=this.__zoom,a=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),c=En(t);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[c,i.invert(c)],ui(this),n.start()}Wi(t),n.wheel=setTimeout(h,150),n.zoom("mouse",o(v(y(i,a),n.mouse[0],n.mouse[1]),n.extent,u))}function h(){n.wheel=null,n.end()}}function $(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,s=_(this,e,!0).event(t),a=An(t.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",p,!0),l=En(t,i),c=t.clientX,h=t.clientY;In(t.view),Vi(t),s.mouse=[l,this.__zoom.invert(l)],ui(this),s.start()}function f(t){if(Wi(t),!s.moved){var e=t.clientX-c,n=t.clientY-h;s.moved=e*e+n*n>d}s.event(t).zoom("mouse",o(v(s.that.__zoom,s.mouse[0]=En(t,i),s.mouse[1]),s.extent,u))}function p(t){a.on("mousemove.zoom mouseup.zoom",null),Cn(t.view,s.moved),Wi(t),s.event(t).end()}}function z(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,s=En(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(s),l=n.k*(t.shiftKey?.5:2),h=o(v(y(n,l),s,a),i.apply(this,e),u);Wi(t),c>0?An(this).transition().duration(c).call(x,h,s,t):An(this).call(m.transform,h,s,t)}}function A(n,...i){if(r.apply(this,arguments)){var o,s,a,l,u=n.touches,c=u.length,h=_(this,i,n.changedTouches.length===c).event(n);for(Vi(n),s=0;s<c;++s)l=[l=En(a=u[s],this),this.__zoom.invert(l),a.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),p)),ui(this),h.start())}}function E(t,...e){if(this.__zooming){var n,r,i,s,a=_(this,e).event(t),l=t.changedTouches,c=l.length;for(Wi(t),n=0;n<c;++n)i=En(r=l[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var h=a.touch0[0],f=a.touch0[1],p=a.touch1[0],d=a.touch1[1],g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g,m=(m=d[0]-f[0])*m+(m=d[1]-f[1])*m;r=y(r,Math.sqrt(g/m)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],s=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(v(r,i,s),a.extent,u))}}function T(t,...r){if(this.__zooming){var i,o,s=_(this,r).event(t),a=t.changedTouches,l=a.length;for(Vi(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<l;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=En(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<g)){var u=An(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return m.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",Qi),t!==i?x(t,e,n,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e,n,r){m.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},m.scaleTo=function(t,e,n,r){m.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,s=null==n?w(t):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"==typeof e?e.apply(this,arguments):e;return o(v(y(r,l),s,a),t,u)}),n,r)},m.translateBy=function(t,e,n,r){m.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)}),null,r)},m.translateTo=function(t,e,n,r,s){m.transform(t,(function(){var t=i.apply(this,arguments),s=this.__zoom,a=null==r?w(t):"function"==typeof r?r.apply(this,arguments):r;return o(Zi.translate(a[0],a[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}),r,s)},b.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=An(this.that).datum();f.call(t,this.that,new Xi(t,{sourceEvent:this.sourceEvent,target:m,type:t,transform:this.that.__zoom,dispatch:f}),e)}},m.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:Bi(+t),m):s},m.filter=function(t){return arguments.length?(r="function"==typeof t?t:Bi(!!t),m):r},m.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Bi(!!t),m):a},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:Bi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],m):[l[0],l[1]]},m.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(t){return arguments.length?(o=t,m):o},m.duration=function(t){return arguments.length?(c=+t,m):c},m.interpolate=function(t){return arguments.length?(h=t,m):h},m.on=function(){var t=f.on.apply(f,arguments);return t===f?m:t},m.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,m):Math.sqrt(d)},m.tapDistance=function(t){return arguments.length?(g=+t,m):g},m}Yi.prototype;var eo,no,ro=(eo=function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],a]:t._events[l].push(a):(t._events[l]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var l,u,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,o),!0;case 6:return c.fn.call(c.context,e,r,i,o,s),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,r);break;case 4:c[u].fn.call(c[u].context,e,r,i);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==e||i&&!a[l].once||r&&a[l].context!==r)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},eo(no={exports:{}},no.exports),no.exports);class io extends Error{constructor(t){super(t),this.name="TimeoutError"}}class oo extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const so=t=>void 0===globalThis.DOMException?new oo(t):new DOMException(t),ao=t=>{const e=void 0===t.reason?so("This operation was aborted."):t.reason;return e instanceof Error?e:so(e)};var lo,uo=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};class co{constructor(){lo.set(this,[])}enqueue(t,e){const n={priority:(e={priority:0,...e}).priority,run:t};if(this.size&&uo(this,lo,"f")[this.size-1].priority>=e.priority)return void uo(this,lo,"f").push(n);const r=function(t,e,n){let r=0,i=t.length;for(;i>0;){const o=Math.trunc(i/2);let s=r+o;n(t[s],e)<=0?(r=++s,i-=o+1):i=o}return r}(uo(this,lo,"f"),n,((t,e)=>e.priority-t.priority));uo(this,lo,"f").splice(r,0,n)}dequeue(){const t=uo(this,lo,"f").shift();return null==t?void 0:t.run}filter(t){return uo(this,lo,"f").filter((e=>e.priority===t.priority)).map((t=>t.run))}get size(){return uo(this,lo,"f").length}}lo=new WeakMap;var ho,fo,po,go,mo,yo,vo,wo,xo,_o,bo,ko,$o,zo,Ao,Eo,To,So,Mo,No,Io,Co,Ro,qo,Po,Oo,jo=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},Lo=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};class Do extends Error{}class Uo extends ro{constructor(t){var e,n,r,i;if(super(),ho.add(this),fo.set(this,void 0),po.set(this,void 0),go.set(this,0),mo.set(this,void 0),yo.set(this,void 0),vo.set(this,0),wo.set(this,void 0),xo.set(this,void 0),_o.set(this,void 0),bo.set(this,void 0),ko.set(this,0),$o.set(this,void 0),zo.set(this,void 0),Ao.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:co,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(e=t.intervalCap)||void 0===e?void 0:e.toString())&&void 0!==n?n:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(r=t.interval)||void 0===r?void 0:r.toString())&&void 0!==i?i:""}\` (${typeof t.interval})`);jo(this,fo,t.carryoverConcurrencyCount,"f"),jo(this,po,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),jo(this,mo,t.intervalCap,"f"),jo(this,yo,t.interval,"f"),jo(this,_o,new t.queueClass,"f"),jo(this,bo,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,jo(this,Ao,!0===t.throwOnTimeout,"f"),jo(this,zo,!1===t.autoStart,"f")}get concurrency(){return Lo(this,$o,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);jo(this,$o,t,"f"),Lo(this,ho,"m",qo).call(this)}async add(t,e={}){return e={timeout:this.timeout,throwOnTimeout:Lo(this,Ao,"f"),...e},new Promise(((n,r)=>{Lo(this,_o,"f").enqueue((async()=>{var i,o,s;jo(this,ko,(o=Lo(this,ko,"f"),++o),"f"),jo(this,go,(s=Lo(this,go,"f"),++s),"f");try{if(null===(i=e.signal)||void 0===i?void 0:i.aborted)throw new Do("The task was aborted.");let r=t({signal:e.signal});e.timeout&&(r=function(t,e,n,r){let i;const o=new Promise(((o,s)=>{if("number"!=typeof e||1!==Math.sign(e))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e!==Number.POSITIVE_INFINITY){if((r={customTimers:{setTimeout:setTimeout,clearTimeout:clearTimeout},...r}).signal){const{signal:t}=r;t.aborted&&s(ao(t)),t.addEventListener("abort",(()=>{s(ao(t))}))}i=r.customTimers.setTimeout.call(void 0,(()=>{if("function"==typeof n){try{o(n())}catch(t){s(t)}return}const r=n instanceof Error?n:new io("string"==typeof n?n:`Promise timed out after ${e} milliseconds`);"function"==typeof t.cancel&&t.cancel(),s(r)}),e),(async()=>{try{o(await t)}catch(t){s(t)}finally{r.customTimers.clearTimeout.call(void 0,i)}})()}else o(t)}));return o.clear=()=>{clearTimeout(i),i=void 0},o}(Promise.resolve(r),e.timeout)),e.signal&&(r=Promise.race([r,Lo(this,ho,"m",Po).call(this,e.signal)]));const o=await r;n(o),this.emit("completed",o)}catch(t){if(t instanceof io&&!e.throwOnTimeout)return void n();r(t),this.emit("error",t)}finally{Lo(this,ho,"m",So).call(this)}}),e),this.emit("add"),Lo(this,ho,"m",Io).call(this)}))}async addAll(t,e){return Promise.all(t.map((async t=>this.add(t,e))))}start(){return Lo(this,zo,"f")?(jo(this,zo,!1,"f"),Lo(this,ho,"m",qo).call(this),this):this}pause(){jo(this,zo,!0,"f")}clear(){jo(this,_o,new(Lo(this,bo,"f")),"f")}async onEmpty(){0!==Lo(this,_o,"f").size&&await Lo(this,ho,"m",Oo).call(this,"empty")}async onSizeLessThan(t){Lo(this,_o,"f").size<t||await Lo(this,ho,"m",Oo).call(this,"next",(()=>Lo(this,_o,"f").size<t))}async onIdle(){0===Lo(this,ko,"f")&&0===Lo(this,_o,"f").size||await Lo(this,ho,"m",Oo).call(this,"idle")}get size(){return Lo(this,_o,"f").size}sizeBy(t){return Lo(this,_o,"f").filter(t).length}get pending(){return Lo(this,ko,"f")}get isPaused(){return Lo(this,zo,"f")}}function Bo(t,e){var n,r=1;function i(){var i,o,s=n.length,a=0,l=0;for(i=0;i<s;++i)a+=(o=n[i]).x,l+=o.y;for(a=(a/s-t)*r,l=(l/s-e)*r,i=0;i<s;++i)(o=n[i]).x-=a,o.y-=l}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function Xo(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,s,a,l,u,c,h,f,p=t._root,d={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((u=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(s=(m+v)/2))?m=s:v=s,i=p,!(p=p[h=c<<1|u]))return i[h]=d,t;if(a=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===a&&n===l)return d.next=p,i?i[h]=d:t._root=d,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(s=(m+v)/2))?m=s:v=s}while((h=c<<1|u)==(f=(l>=s)<<1|a>=o));return i[f]=p,i[h]=d,t}function Yo(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Zo(t){return t[0]}function Vo(t){return t[1]}function Wo(t,e,n){var r=new Fo(null==e?Zo:e,null==n?Vo:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Fo(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ho(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}fo=new WeakMap,po=new WeakMap,go=new WeakMap,mo=new WeakMap,yo=new WeakMap,vo=new WeakMap,wo=new WeakMap,xo=new WeakMap,_o=new WeakMap,bo=new WeakMap,ko=new WeakMap,$o=new WeakMap,zo=new WeakMap,Ao=new WeakMap,ho=new WeakSet,Eo=function(){return Lo(this,po,"f")||Lo(this,go,"f")<Lo(this,mo,"f")},To=function(){return Lo(this,ko,"f")<Lo(this,$o,"f")},So=function(){var t;jo(this,ko,(t=Lo(this,ko,"f"),--t),"f"),Lo(this,ho,"m",Io).call(this),this.emit("next")},Mo=function(){Lo(this,ho,"m",Ro).call(this),Lo(this,ho,"m",Co).call(this),jo(this,xo,void 0,"f")},No=function(){const t=Date.now();if(void 0===Lo(this,wo,"f")){const e=Lo(this,vo,"f")-t;if(!(e<0))return void 0===Lo(this,xo,"f")&&jo(this,xo,setTimeout((()=>{Lo(this,ho,"m",Mo).call(this)}),e),"f"),!0;jo(this,go,Lo(this,fo,"f")?Lo(this,ko,"f"):0,"f")}return!1},Io=function(){if(0===Lo(this,_o,"f").size)return Lo(this,wo,"f")&&clearInterval(Lo(this,wo,"f")),jo(this,wo,void 0,"f"),this.emit("empty"),0===Lo(this,ko,"f")&&this.emit("idle"),!1;if(!Lo(this,zo,"f")){const t=!Lo(this,ho,"a",No);if(Lo(this,ho,"a",Eo)&&Lo(this,ho,"a",To)){const e=Lo(this,_o,"f").dequeue();return!!e&&(this.emit("active"),e(),t&&Lo(this,ho,"m",Co).call(this),!0)}}return!1},Co=function(){Lo(this,po,"f")||void 0!==Lo(this,wo,"f")||(jo(this,wo,setInterval((()=>{Lo(this,ho,"m",Ro).call(this)}),Lo(this,yo,"f")),"f"),jo(this,vo,Date.now()+Lo(this,yo,"f"),"f"))},Ro=function(){0===Lo(this,go,"f")&&0===Lo(this,ko,"f")&&Lo(this,wo,"f")&&(clearInterval(Lo(this,wo,"f")),jo(this,wo,void 0,"f")),jo(this,go,Lo(this,fo,"f")?Lo(this,ko,"f"):0,"f"),Lo(this,ho,"m",qo).call(this)},qo=function(){for(;Lo(this,ho,"m",Io).call(this););},Po=async function(t){return new Promise(((e,n)=>{t.addEventListener("abort",(()=>{n(new Do("The task was aborted."))}),{once:!0})}))},Oo=async function(t,e){return new Promise((n=>{const r=()=>{e&&!e()||(this.off(t,r),n())};this.on(t,r)}))};var Qo=Wo.prototype=Fo.prototype;function Go(t){return function(){return t}}function Ko(t){return 1e-6*(t()-.5)}function Jo(t){return t.x+t.vx}function ts(t){return t.y+t.vy}function es(t){var e,n,r,i=1,o=1;function s(){for(var t,s,l,u,c,h,f,p=e.length,d=0;d<o;++d)for(s=Wo(e,Jo,ts).visitAfter(a),t=0;t<p;++t)l=e[t],h=n[l.index],f=h*h,u=l.x+l.vx,c=l.y+l.vy,s.visit(g);function g(t,e,n,o,s){var a=t.data,p=t.r,d=h+p;if(!a)return e>u+d||o<u-d||n>c+d||s<c-d;if(a.index>l.index){var g=u-a.x-a.vx,m=c-a.y-a.vy,y=g*g+m*m;y<d*d&&(0===g&&(y+=(g=Ko(r))*g),0===m&&(y+=(m=Ko(r))*m),y=(d-(y=Math.sqrt(y)))/y*i,l.vx+=(g*=y)*(d=(p*=p)/(f+p)),l.vy+=(m*=y)*d,a.vx-=g*(d=1-d),a.vy-=m*d)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Go(null==t?1:+t)),s.initialize=function(t,n){e=t,r=n,l()},s.iterations=function(t){return arguments.length?(o=+t,s):o},s.strength=function(t){return arguments.length?(i=+t,s):i},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Go(+e),l(),s):t},s}function ns(t){return t.index}function rs(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function is(t){var e,n,r,i,o,s,a=ns,l=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=Go(30),c=1;function h(r){for(var i=0,a=t.length;i<c;++i)for(var l,u,h,f,p,d,g,m=0;m<a;++m)u=(l=t[m]).source,f=(h=l.target).x+h.vx-u.x-u.vx||Ko(s),p=h.y+h.vy-u.y-u.vy||Ko(s),f*=d=((d=Math.sqrt(f*f+p*p))-n[m])/d*r*e[m],p*=d,h.vx-=f*(g=o[m]),h.vy-=p*g,u.vx+=f*(g=1-g),u.vy+=p*g}function f(){if(r){var s,l,u=r.length,c=t.length,h=new Map(r.map(((t,e)=>[a(t,e,r),t])));for(s=0,i=new Array(u);s<c;++s)(l=t[s]).index=s,"object"!=typeof l.source&&(l.source=rs(h,l.source)),"object"!=typeof l.target&&(l.target=rs(h,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,o=new Array(c);s<c;++s)l=t[s],o[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(c),p(),n=new Array(c),d()}}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+l(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){r=t,s=e,f()},h.links=function(e){return arguments.length?(t=e,f(),h):t},h.id=function(t){return arguments.length?(a=t,h):a},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(l="function"==typeof t?t:Go(+t),p(),h):l},h.distance=function(t){return arguments.length?(u="function"==typeof t?t:Go(+t),d(),h):u},h}Qo.copy=function(){var t,e,n=new Fo(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ho(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Ho(e));return n},Qo.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Xo(this.cover(e,n),e,n,t)},Qo.addAll=function(t){var e,n,r,i,o=t.length,s=new Array(o),a=new Array(o),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(s[n]=r,a[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>h&&(h=i));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<o;++n)Xo(this,s[n],a[n],t[n]);return this},Qo.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s,a,l=i-n||1,u=this._root;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,(s=new Array(4))[a]=u,u=s,l*=2,a){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Qo.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Qo.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Qo.find=function(t,e,n){var r,i,o,s,a,l,u,c=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new Yo(g,c,h,f,p)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,p=e+n,n*=n);l=d.pop();)if(!(!(g=l.node)||(i=l.x0)>f||(o=l.y0)>p||(s=l.x1)<c||(a=l.y1)<h))if(g.length){var m=(i+s)/2,y=(o+a)/2;d.push(new Yo(g[3],m,y,s,a),new Yo(g[2],i,y,m,a),new Yo(g[1],m,o,s,y),new Yo(g[0],i,o,m,y)),(u=(e>=y)<<1|t>=m)&&(l=d[d.length-1],d[d.length-1]=d[d.length-1-u],d[d.length-1-u]=l)}else{var v=t-+this._x.call(null,g.data),w=e-+this._y.call(null,g.data),x=v*v+w*w;if(x<n){var _=Math.sqrt(n=x);c=t-_,h=e-_,f=t+_,p=e+_,r=g.data}}return r},Qo.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,r,i,o,s,a,l,u,c,h,f,p=this._root,d=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((u=o>=(a=(d+m)/2))?d=a:m=a,(c=s>=(l=(g+y)/2))?g=l:y=l,e=p,!(p=p[h=c<<1|u]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},Qo.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Qo.root=function(){return this._root},Qo.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Qo.visit=function(t){var e,n,r,i,o,s,a=[],l=this._root;for(l&&a.push(new Yo(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,s=e.y1)&&l.length){var u=(r+o)/2,c=(i+s)/2;(n=l[3])&&a.push(new Yo(n,u,c,o,s)),(n=l[2])&&a.push(new Yo(n,r,c,u,s)),(n=l[1])&&a.push(new Yo(n,u,i,o,c)),(n=l[0])&&a.push(new Yo(n,r,i,u,c))}return this},Qo.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Yo(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,s=e.x0,a=e.y0,l=e.x1,u=e.y1,c=(s+l)/2,h=(a+u)/2;(o=i[0])&&n.push(new Yo(o,s,a,c,h)),(o=i[1])&&n.push(new Yo(o,c,a,l,h)),(o=i[2])&&n.push(new Yo(o,s,h,c,u)),(o=i[3])&&n.push(new Yo(o,c,h,l,u))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Qo.x=function(t){return arguments.length?(this._x=t,this):this._x},Qo.y=function(t){return arguments.length?(this._y=t,this):this._y};const os=4294967296;function ss(t){return t.x}function as(t){return t.y}var ls=Math.PI*(3-Math.sqrt(5));function us(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=Kr(h),u=se("tick","end"),c=function(){let t=1;return()=>(t=(1664525*t+1013904223)%os)/os}();function h(){f(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function f(r){var l,u,c=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,a.forEach((function(t){t(n)})),l=0;l<c;++l)null==(u=t[l]).fx?u.x+=u.vx*=s:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=s:(u.y=u.fy,u.vy=0);return e}function p(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*ls;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),p(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),a.forEach(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(c=t,a.forEach(d),e):c},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,d(n)),e):a.get(t)},find:function(e,n,r){var i,o,s,a,l,u=0,c=t.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(s=(i=e-(a=t[u]).x)*i+(o=n-a.y)*o)<r&&(l=a,r=s);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}}function cs(){var t,e,n,r,i,o=Go(-30),s=1,a=1/0,l=.81;function u(n){var i,o=t.length,s=Wo(t,ss,as).visitAfter(h);for(r=n,i=0;i<o;++i)e=t[i],s.visit(f)}function c(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function h(t){var e,n,r,o,s,a=0,l=0;if(t.length){for(r=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=i[e.data.index]}while(e=e.next)}t.value=a}function f(t,o,u,c){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,p=c-o,d=h*h+f*f;if(p*p/l<d)return d<a&&(0===h&&(d+=(h=Ko(n))*h),0===f&&(d+=(f=Ko(n))*f),d<s&&(d=Math.sqrt(s*d)),e.vx+=h*t.value*r/d,e.vy+=f*t.value*r/d),!0;if(!(t.length||d>=a)){(t.data!==e||t.next)&&(0===h&&(d+=(h=Ko(n))*h),0===f&&(d+=(f=Ko(n))*f),d<s&&(d=Math.sqrt(s*d)));do{t.data!==e&&(p=i[t.data.index]*r/d,e.vx+=h*p,e.vy+=f*p)}while(t=t.next)}}return u.initialize=function(e,r){t=e,n=r,c()},u.strength=function(t){return arguments.length?(o="function"==typeof t?t:Go(+t),c(),u):o},u.distanceMin=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u.distanceMax=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.theta=function(t){return arguments.length?(l=t*t,u):Math.sqrt(l)},u}function hs(t,e,n){var r,i,o,s=Go(.1);function a(t){for(var s=0,a=r.length;s<a;++s){var l=r[s],u=l.x-e||1e-6,c=l.y-n||1e-6,h=Math.sqrt(u*u+c*c),f=(o[s]-h)*i[s]*t/h;l.vx+=u*f,l.vy+=c*f}}function l(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+s(r[e],e,r)}}return"function"!=typeof t&&(t=Go(+t)),null==e&&(e=0),null==n&&(n=0),a.initialize=function(t){r=t,l()},a.strength=function(t){return arguments.length?(s="function"==typeof t?t:Go(+t),l(),a):s},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:Go(+e),l(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(n=+t,a):n},a}function fs(t,e,n){const r=t.slice();return r[25]=e[n],r}function ps(t,e,n){const r=t.slice();return r[30]=e[n],r}function ds(t){let e,n,r,i,o,s;return{c(){e=v("g"),n=v("path"),k(n,"d",r=$s(t[30])),k(n,"data-attr",i=t[30].source.id),k(n,"transform",o="translate("+t[5].x+" "+t[5].y+") scale("+t[5].k+" "+t[5].k+")"),k(e,"class",s=h(t[30].class)+" svelte-216yrr"),k(e,"stroke-width","1"),k(e,"fill","none")},m(t,r){d(t,e,r),p(e,n)},p(t,a){64&a[0]&&r!==(r=$s(t[30]))&&k(n,"d",r),64&a[0]&&i!==(i=t[30].source.id)&&k(n,"data-attr",i),32&a[0]&&o!==(o="translate("+t[5].x+" "+t[5].y+") scale("+t[5].k+" "+t[5].k+")")&&k(n,"transform",o),64&a[0]&&s!==(s=h(t[30].class)+" svelte-216yrr")&&k(e,"class",s)},d(t){t&&g(e)}}}function gs(t){let e,n="link-highlite"==t[30].class&&ds(t);return{c(){n&&n.c(),e=_()},m(t,r){n&&n.m(t,r),d(t,e,r)},p(t,r){"link-highlite"==t[30].class?n?n.p(t,r):(n=ds(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&g(e)}}}function ms(t){let e,n,r,i=t[29].message+"";return{c(){e=y("p"),n=w("Error: "),r=w(i)},m(t,i){d(t,e,i),p(e,n),p(e,r)},p(t,e){128&e[0]&&i!==(i=t[29].message+"")&&$(r,i)},d(t){t&&g(e)}}}function ys(t){let e;function n(t,e){return t[28].hasThumbnail?ws:vs}let r=n(t),i=r(t);return{c(){i.c(),e=_()},m(t,n){i.m(t,n),d(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&g(e)}}}function vs(t){let e,n,r=t[25].title+"";return{c(){e=y("div"),n=w(r),k(e,"class","title svelte-216yrr")},m(t,r){d(t,e,r),p(e,n)},p(t,e){128&e[0]&&r!==(r=t[25].title+"")&&$(n,r)},d(t){t&&g(e)}}}function ws(t){let e,n,r,i,o,s=t[25].title+"";return{c(){e=y("img"),i=y("div"),o=w(s),u(e.src,n=t[28].thumbnailUrl)||k(e,"src",n),k(e,"alt",r=t[25].title),k(i,"class","title svelte-216yrr")},m(t,n){d(t,e,n),d(t,i,n),p(i,o)},p(t,i){128&i[0]&&!u(e.src,n=t[28].thumbnailUrl)&&k(e,"src",n),128&i[0]&&r!==(r=t[25].title)&&k(e,"alt",r),128&i[0]&&s!==(s=t[25].title+"")&&$(o,s)},d(t){t&&g(e),t&&g(i)}}}function xs(t){let e,n,r=t[25].title+"";return{c(){e=y("div"),n=w(r),k(e,"class","title svelte-216yrr")},m(t,r){d(t,e,r),p(e,n)},p(t,e){128&e[0]&&r!==(r=t[25].title+"")&&$(n,r)},d(t){t&&g(e)}}}function _s(t){let e,n,o,s,a,l,u,c,f,m,y={ctx:t,current:null,token:null,hasCatch:!0,pending:xs,then:ys,catch:ms,value:28,error:29};function w(){return t[12](t[25])}function x(...e){return t[13](t[25],...e)}return W(o=t[10](t[25].id),y),{c(){e=v("g"),n=v("foreignObject"),y.block.c(),k(n,"requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility"),k(n,"width",ks),k(n,"height",ks-ks/3),k(n,"x",s=t[25].x-2),k(n,"y",a=t[25].y-2),k(e,"class",l=h(t[1].id==t[25].id?"label selection":t[2].includes(t[25].id)?"label node-highlite":t[8].includes(t[25].id)?"label node":"label link")+" svelte-216yrr"),k(e,"transform",u="translate("+t[5].x+"\n                "+(t[5].y-5)+") scale("+t[5].k+"\n                "+t[5].k+")"),k(e,"data-attr",c=t[25].id)},m(r,o){d(r,e,o),p(e,n),y.block.m(n,y.anchor=null),y.mount=()=>n,y.anchor=null,f||(m=[b(e,"dblclick",(function(){i(t[9](t[25]))&&t[9](t[25]).apply(this,arguments)})),b(e,"click",w),b(e,"keydown",x)],f=!0)},p(r,i){t=r,y.ctx=t,128&i[0]&&o!==(o=t[10](t[25].id))&&W(o,y)||function(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}(y,t,i),128&i[0]&&s!==(s=t[25].x-2)&&k(n,"x",s),128&i[0]&&a!==(a=t[25].y-2)&&k(n,"y",a),390&i[0]&&l!==(l=h(t[1].id==t[25].id?"label selection":t[2].includes(t[25].id)?"label node-highlite":t[8].includes(t[25].id)?"label node":"label link")+" svelte-216yrr")&&k(e,"class",l),32&i[0]&&u!==(u="translate("+t[5].x+"\n                "+(t[5].y-5)+") scale("+t[5].k+"\n                "+t[5].k+")")&&k(e,"transform",u),128&i[0]&&c!==(c=t[25].id)&&k(e,"data-attr",c)},d(t){t&&g(e),y.block.d(),y.token=null,y=null,f=!1,r(m)}}}function bs(e){let n,r,i,o,s,a=e[6],l=[];for(let t=0;t<a.length;t+=1)l[t]=gs(ps(e,a,t));let u=e[7],c=[];for(let t=0;t<u.length;t+=1)c[t]=_s(fs(e,u,t));return{c(){n=y("div"),r=v("svg"),i=v("g");for(let t=0;t<l.length;t+=1)l[t].c();o=v("g");for(let t=0;t<c.length;t+=1)c[t].c();k(i,"class","links"),k(o,"class","nodes"),k(r,"width",e[3]),k(r,"height",e[4]),k(n,"class","graph svelte-216yrr"),P((()=>e[15].call(n)))},m(t,a){d(t,n,a),p(n,r),p(r,i);for(let t=0;t<l.length;t+=1)l[t].m(i,null);p(r,o);for(let t=0;t<c.length;t+=1)c[t].m(o,null);e[14](r),s=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=y("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=z();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=b(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=b(n.contentWindow,"resize",e)}),p(t,n),()=>{(r||i&&n.contentWindow)&&i(),g(n)}}(n,e[15].bind(n))},p(t,e){if(96&e[0]){let n;for(a=t[6],n=0;n<a.length;n+=1){const r=ps(t,a,n);l[n]?l[n].p(r,e):(l[n]=gs(r),l[n].c(),l[n].m(i,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=a.length}if(1958&e[0]){let n;for(u=t[7],n=0;n<u.length;n+=1){const r=fs(t,u,n);c[n]?c[n].p(r,e):(c[n]=_s(r),c[n].c(),c[n].m(o,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=u.length}8&e[0]&&k(r,"width",t[3]),16&e[0]&&k(r,"height",t[4])},i:t,o:t,d(t){t&&g(n),m(l,t),m(c,t),e[14](null),s()}}}const ks=240;function $s(t){const e=Math.hypot(t.target.x-t.source.x,t.target.y-t.source.y);return`M${t.source.x},${t.source.y} A${e},${e} 0 0,1 ${t.target.x},${t.target.y}`}function zs(t,e,n){let r,i,o,s;c(t,lt,(t=>n(1,r=t))),c(t,at,(t=>n(2,i=t))),c(t,ot,(t=>n(11,o=t))),c(t,st,(t=>n(8,s=t)));const a=new Uo({concurrency:5});let l,u,h,p,d={zoom:to,zoomIdentity:Zi,select:An,drag:Dn,forceSimulation:us,forceLink:is,forceRadial:hs,forceCenter:Bo,forceCollide:es,forceManyBody:cs},g=0,m=0,y=d.zoomIdentity;const v=d.zoom().scaleExtent([1/8,1]).on("zoom",(function(t){n(5,y=t.transform),_()}));function w(){p=d.forceSimulation(h).force("link",d.forceLink(u).id((t=>t.id)).strength(1)).force("charge",d.forceManyBody().strength(-ks)).force("center",d.forceCenter(g/2,m/2)).force("collision",d.forceCollide().radius(ks/2+4)).on("tick",_)}function x(t){const e=h.find((e=>e.id===t));if(!e)return;const n=d.zoomIdentity.scale(.8).translate(g/2-e.x,m/2-e.y);d.select(l).transition().duration(500).call(v.transform,n),_(),b(e)}function _(){n(7,h=[...h]),n(6,u=[...u])}function b(t){t&&(f(lt,r=t,r),n(6,u=u.sort(((e,n)=>e.source.id===t.id||e.target.id===t.id||n.source.id===t.id||n.target.id===t.id?1:-1))),u.forEach((e=>{e.source.id===t.id||e.target.id===t.id?e.class="link-highlite":e.class="link"})),_())}S((()=>{w(),function(){let t,e=new Set;const n=new IntersectionObserver(((n,r)=>{n.forEach((n=>{0!==n.boundingClientRect.y&&(t=n.boundingClientRect.y>n.rootBounds.y?"down":"up");const r=n.target.getAttribute("data-id");st.update((t=>(t.includes(r)||t.push(r),t))),n.isIntersecting?"down"===t?e.add(r):e=new Set([r,...e]):e.delete(r)})),at.set([...e])}));document.querySelectorAll(".markdown a[data-id]").forEach((t=>n.observe(t)))}()})),function(t){T().$$.on_destroy.push(t)}((()=>{p.stop()}));const k={};return t.$$.update=()=>{1&t.$$.dirty[0]&&d.select(l).call(v),2048&t.$$.dirty[0]&&(n(6,u=[...o.links.map((t=>Object.assign(t,{class:"link"})))]),n(7,h=[...o.nodes.map((t=>Object.assign(t,{class:"node"})))]),w()),4&t.$$.dirty[0]&&i.length>0&&x(i[0]),2&t.$$.dirty[0]&&r.length>0&&x(r)},[l,r,i,g,m,y,u,h,s,b,async function(t){if(k[t])return k[t];try{const e=await a.add((()=>fetch(t))),n=await e.json();if(n["@type"].includes("o:ItemSet"))return{hasThumbnail:!1,thumbnailUrl:null};{const e=n?.thumbnail_display_urls?.fav,r={hasThumbnail:null!=e,thumbnailUrl:e};return k[t]=r,r}}catch(t){return{hasThumbnail:!1,thumbnailUrl:null}}},o,t=>b(t),(t,e)=>{"Enter"!==e.key&&" "!==e.key||b(t)},function(t){N[t?"unshift":"push"]((()=>{l=t,n(0,l)}))},function(){g=this.clientWidth,m=this.clientHeight,n(3,g),n(4,m)}]}class As extends J{constructor(t){super(),K(this,t,zs,bs,o,{},null,[-1,-1])}}function Es(t,e,n){const r=t.slice();return r[4]=e[n],r}function Ts(t){let e,n,r,i,o=t[4].title+"";function s(...e){return t[2](t[4],...e)}return{c(){e=y("button"),n=w(o),k(e,"class","svelte-nr7emb")},m(t,o){d(t,e,o),p(e,n),r||(i=b(e,"click",s),r=!0)},p(e,r){t=e,1&r&&o!==(o=t[4].title+"")&&$(n,o)},d(t){t&&g(e),r=!1,i()}}}function Ss(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=Ts(Es(e,r,t));return{c(){n=y("header");for(let t=0;t<i.length;t+=1)i[t].c();k(n,"class","svelte-nr7emb")},m(t,e){d(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(3&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const s=Es(t,r,o);i[o]?i[o].p(s,e):(i[o]=Ts(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&g(n),m(i,t)}}}function Ms(t,e,n){let r;c(t,it,(t=>n(3,r=t)));let{MarkdownFiles:i}=e;function o(t,e){it.set(i.filter((t=>t.id===e))[0]),ot.set(ut(r))}return t.$$set=t=>{"MarkdownFiles"in t&&n(0,i=t.MarkdownFiles)},[i,o,(t,e)=>o(0,t.id)]}class Ns extends J{constructor(t){super(),K(this,t,Ms,Ss,o,{MarkdownFiles:0})}}function Is(t){let e,n,r,i,o,s,a;return e=new Ns({props:{MarkdownFiles:t[0],selectedMarkdown:it}}),i=new As({}),s=new ie({props:{MarkdownFiles:t[0]}}),{c(){F(e.$$.fragment),n=x(),r=y("div"),F(i.$$.fragment),o=x(),F(s.$$.fragment),k(r,"class","container svelte-10yz6op")},m(t,l){H(e,t,l),d(t,n,l),d(t,r,l),H(i,r,null),p(r,o),H(s,r,null),a=!0},p(t,n){const r={};1&n&&(r.MarkdownFiles=t[0]),e.$set(r);const i={};1&n&&(i.MarkdownFiles=t[0]),s.$set(i)},i(t){a||(Z(e.$$.fragment,t),Z(i.$$.fragment,t),Z(s.$$.fragment,t),a=!0)},o(t){V(e.$$.fragment,t),V(i.$$.fragment,t),V(s.$$.fragment,t),a=!1},d(t){Q(e,t),t&&g(n),t&&g(r),Q(i),Q(s)}}}function Cs(e){let n;return{c(){n=y("h4"),n.textContent="Loading Essays...",k(n,"class","loading svelte-10yz6op")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}function Rs(t){let e,n,r,i;const o=[Cs,Is],s=[];function a(t,e){return void 0===t[0]?0:1}return n=a(t),r=s[n]=o[n](t),{c(){e=y("main"),r.c()},m(t,r){d(t,e,r),s[n].m(e,null),i=!0},p(t,[i]){let l=n;n=a(t),n===l?s[n].p(t,i):(X(),V(s[l],1,1,(()=>{s[l]=null})),Y(),r=s[n],r?r.p(t,i):(r=s[n]=o[n](t),r.c()),Z(r,1),r.m(e,null))},i(t){i||(Z(r),i=!0)},o(t){V(r),i=!1},d(t){t&&g(e),s[n].d()}}}function qs(t,e,n){let r,i;return c(t,it,(t=>n(1,r=t))),S((async()=>{n(0,i=await Promise.all(et.map((async t=>{const e=t.split("-").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" "),n=`./essays/${t}.md`,r=await async function(t){const e=await fetch(t);return await e.text()}(n),i=await async function(t){const e=/\[([^\]]+)\]\(([^)]+)\)/g,n=[];let r;for(;r=e.exec(t);)if(!r[2].includes("http")){const t=r[2].includes(tt)?r[2]:`${tt}/resources/${r[2]}`,e=await fetch(t),i=await e.json();if(i["o:items"]){n.push({label:r[1],url:t,data:i});let e=i["o:items"]["@id"];const o=await fetch(e);(await o.json()).forEach((t=>{n.push({label:t["o:title"],url:t["@id"],data:t,set:{id:i["o:id"],title:i["o:title"]}})}))}else n.push({label:r[1],url:t,data:i})}return n}(r);return{title:e,url:n,markdown:r,items:i,id:mt()}})))),it.set(i[0]),ot.set(ut(r))})),[i]}return new class extends J{constructor(t){super(),K(this,t,qs,Rs,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
